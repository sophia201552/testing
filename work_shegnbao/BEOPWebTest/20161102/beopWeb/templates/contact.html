<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Contact Us - BeOP</title>
    <link href="/static/scripts/lib/bootstrap/css/bootstrap.min.css" rel="stylesheet"/>
    <script type="text/javascript" src="/static/scripts/lib/jquery-2.1.4.min.js"></script>
    <style type="text/css">
    html, body, #contactUs {
        width:100%;
        background-color: #22252E;
    }
    #contactUs .contactBox {
        float:none;
        margin:0 auto;
        text-align: center;
        /*border:2px solid #fff;
        box-shadow:0 0 8px #fff;
        border-radius:5px;*/
        padding-bottom:15px;
    }
    #contactUs .userNameBox {
        margin-top:1rem;
    }
    #contactUs .contactTitle {
        margin-top:3rem;
        margin-bottom:5rem;
        color:#fff;
        font-size:3rem;
        float:none;
    }
    #contactUs .userNameBox input {
        height:40px;
        line-height:40px;
    }
    .titleBox {
        text-align:left;
        color:#fff;
        line-height:26px;
    }
    #contactUs .checkBoxCon {
        margin-top:20px;
        color:#fff;
    }
    #contactUs .checkBoxCon span {
        margin-left:6px;
    }
    #contactUs .submitBox {
        margin-top:1rem;
        display: inline-block;
    }
   /*  .returnBox{
       margin-top:1rem; 
       display: inline-block;
    } */
    .mustInter {
        color:red;
        margin-left: 3px;
        vertical-align: middle;
        margin-top: 3px;
        line-height: 26px;
        display: inline-block;
    }
    #msg {
        resize:none;
    }

    .aDownload {
        padding: 10px 30px 10px 30px;
        background-color: #337ab7;
        font-size: 20px;
        border-radius: 4px;
        color: #fff;
    }
    </style>
</head>
<body>
<div id="contactUs" class="clearfix">
    <div id="paneForm" class="col-lg-4 col-md-8 col-xs-10 contactBox">
        <div class="contactTitle col-lg-12 text-center international" i18n="CONTACT_US">Contact us</div>
        <div class="userNameBox">
            <div class="titleBox international" i18n="NAME">Name<span class="mustInter international" i18n="NECESSARY">*</span></div>
            <input type="text" class="form-control international" placeholder="Name" i18n="placeholder=NAME" id="nameInput" />
        </div>
        <div class="userNameBox">
            <div class="titleBox international" i18n="COMPANY">Company<span class="mustInter international" i18n="NECESSARY">*</span></div>
            <input type="text" class="form-control international" placeholder="Company" i18n="placeholder=COMPANY_NAME" id="companyInput" />
        </div>
        <div class="userNameBox">
            <div class="titleBox international" i18n="E_MAIL">E-mail<span class="mustInter" i18n="NECESSARY">*</span></div>
            <input type="text" class="form-control international" placeholder="E-mail" i18n="placeholder=E_MAIL" id="eMailInput" />
        </div>
        <div class="userNameBox">
            <div class="titleBox" i18n="TELPHONT">Tel</div>
            <input type="text" class="form-control international" placeholder="Tel (optional)" i18n="placeholder=TELPHONT_MAY" id="telInput" />
        </div>
        <div class="userNameBox">
            <div class="titleBox international" i18n="MESSAGE">msg</div>
            <textarea class="form-control international" placeholder="msg" id="msg" i18n="placeholder=MESSAGE_MAY"></textarea>
        </div>
        <div class="text-center checkBoxCon">
            <input type="checkbox" checked id="checkboxBtn" class="international" /><span i18n="SUB_MESSAGE"></span>
        </div>
        <div id="wrongInfo"></div>
        <div class="submitBox btn btn-primary btn-lg international" id="submitBox" i18n="SUBMIT"></div>
    </div>

    <div id="paneCompleted" class="col-lg-4 col-md-8 col-xs-10 contactBox" style="padding-top: 30px; display: none;">
        <h6 style="font-size: 40px; color: #70c396; line-height: 56px;" class="international" i18n="THANK_ATTENTION"></h6>
        <br />
        <a class="aDownload international" href="http://www.rnbtechgroup.com/BeOP_Smart_Devices_2016.pdf" i18n="DOCUMENTATION">DOCUMENTATION</a>
    </div>
</div>
<script>
    submitBox.onclick = function () {
        var name = document.getElementById('nameInput').value.replace(/(^\s*)|(\s*$)/g, "");
        var company = document.getElementById('companyInput').value.replace(/(^\s*)|(\s*$)/g, "");
        var eMail = document.getElementById('eMailInput').value.replace(/(^\s*)|(\s*$)/g, "");
        var telNum = document.getElementById('telInput').value.replace(/(^\s*)|(\s*$)/g, "");
        var msg = document.getElementById('msg').value.replace(/(^\s*)|(\s*$)/g, "");
        var rss = (document.getElementById('checkboxBtn').checked) ? 1 : 0;
        var wrongInfo =document.getElementById('wrongInfo');
        if (name === '' || company === '' || eMail === '') {
            alert(in18n_resource.ENTER_INFORMATION);
            return;
        }
        var reg = /^(\w-*\.*)+@(\w-?)+(\.\w{2,})+$/;
        if (!reg.test(eMail)) {
            alert(in18n_resource.ENTER_TRUE_MAIL);
            return;
        }
        var xhr = new XMLHttpRequest();
        var result;
        xhr.onload = function () {
            if (xhr.status == 200) {
                result = JSON.parse(xhr.responseText);
                if (result.data) {
                    document.getElementById('paneForm').style.display = 'none';
                    document.getElementById('paneCompleted').style.display = 'block';
                } else {
                    alert(in18n_resource.UPLOAD_INFORMATION);
                }
            }
            else {
                alert(in18n_resource.UPLOAD_INFORMATION);
            }
        };
        xhr.open("POST", "/submit/contactus");
        xhr.setRequestHeader("Content-Type", "application/json");
        xhr.send(JSON.stringify({ name: name, company: company, mail: eMail, phone: telNum,msg:msg, rss: rss }));
    };
    
    //i18n设置;
    var i18n_resource = {
        'zh':{
            CONTACT_US:"联系我们",
            NAME:"姓名(必填)",
            NECESSARY:"必填",
            COMPANY_NAME:"公司名称(必填)",
            E_MAIL:"电子邮箱(必填)",
            COMPANY:"公司(必填)",
            TELPHONT:"联系电话",
            TELPHONT_MAY:"联系电话 (选填)",
            MESSAGE:"留言",
            MESSAGE_MAY:"留言 (选填)",
            SUB_MESSAGE:"我愿意订阅R&B科技集团发送的信息。（可随时取消订阅）",
            SUBMIT:"确认",
            ENTER_INFORMATION:"带*内容为必填部分，请输入相关信息！",
            ENTER_TRUE_MAIL:"请输入有效的电子邮箱地址",
            UPLOAD_INFORMATION:"你的信息上传失败！",
            THANK_ATTENTION:"感谢您对R&B科技集团的关注！",
            DOCUMENTATION:"产品宣传页"
        },
        'en':{
            CONTACT_US:"Contact us",
            NAME:"Name",
            NECESSARY:"*",
            COMPANY_NAME:"Company",
            COMPANY:"Company",
            E_MAIL:"E-mail",
            TELPHONT:"Tel",
            TELPHONT_MAY:"Tel (optional)",
            MESSAGE:"Msg",
            MESSAGE_MAY:"Msg (optional)",
            SUB_MESSAGE:"Send me information from R&B Technology Group. You can unsubscribe at any time.",
            SUBMIT:"Submit",
            ENTER_INFORMATION:"Please enter your information!",
            ENTER_TRUE_MAIL:"Please enter a valid email address!",
            UPLOAD_INFORMATION:"Failed to upload your information！",
            THANK_ATTENTION:"Thank you for your attention！",
            DOCUMENTATION:"DOCUMENTATION"
        }
        
    };
    var in18n_resource;
    function setLanguage(language) {
        var currentUrl = location.href;
        var toggleUrl;
        var str;
        if (!language) language = navigator.language.split('-')[0];
        if(currentUrl.indexOf('?') === -1){  
            in18n_resource = i18n_resource[language];
         }
        else{
            str =currentUrl.split('=')[1];
            language = str;
           in18n_resource = i18n_resource[language];
        }
    }
    setLanguage(localStorage["language"]);
      
    
    function translate() {
        $('[i18n]').each(function(index, item){
            var $this = $(this);
            var i18nKey = $this.attr('i18n');
            if(i18nKey.indexOf('=') === -1){
                $this.text(in18n_resource[i18nKey]);
            }else{
                var i18nKeyList = i18nKey.split(';');
                for (var i = i18nKeyList.length - 1; i >= 0; i--) {
                    var i18nKeyItem = i18nKeyList[i];
                    if(i18nKeyItem.indexOf('=') === -1){
                        $this.text(in18n_resource[i18nKey]);
                    }else{
                        $this.attr(i18nKeyItem.split('=')[0].trim(), in18n_resource[i18nKeyItem.split('=')[1].trim()]);
                    }
                }
            }
        })
    }
    translate();
</script>
</body>
</html>