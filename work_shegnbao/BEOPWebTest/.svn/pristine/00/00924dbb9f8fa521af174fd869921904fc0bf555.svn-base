<style>
    #wf-detail-funUl {
        height: 40px;
        padding-left: 20px;
        border-bottom: 2px solid #ccc;
    }

    #wf-detail-funUl li {
        min-width: 100px;
        height: 40px;
        line-height: 40px;
        border-bottom: 2px solid #ccc;
        margin-left: 1px;
        float: left;
        cursor: pointer;
        text-align: center;
        background: #fff;
    }

    #wf-detail-funUl .active {
        color: #337ab7;
        border-bottom: 2px solid #337ab7;
    }

    .person {
        width: 30px;
        height: 30px;
        border-radius: 60px;
    }

    #wf-mineEdit-content {
        height: 100%;
        padding: 10px;
        overflow-x: hidden;
        overflow-y: scroll;
    }
    #wf-mineEdit-content #wf-fault-curve {
        height: 400px;
        display: none;
        background-color: #ffffff;
    }
    #wf-mineEdit-content #wf-fault-curve canvas {
        background-color: #ffffff;
    }
    #wf-mineEdit-content .glyphicon-plus-sign {
        border-radius: 50%;
        padding: 5px;
        margin-left: 5px;
        position: relative;
        left: 0;
    }

    #wf-mineEdit-content .glyphicon-edit {
        font-size: 45px;
    }

    #wf-content .glyphicon-edit {
        position: relative;
        top: 5px;
        left: 0;
        cursor: pointer;
    }

    .wf-lableIcon {
        position: relative;
        top: 8px;
        font-size: 18px;
    }

    #wf-detail-form i {
        font-style: normal;
    }

    .wf-detail-table tr td, .wf-detail-table tr th {
        border: 1px solid #ccc;
    }

    .wf-detail-table th, .wf-detail-table td {
        padding: 5px;
    }

    .wf-detail-table th:nth-of-type(odd), .wf-detail-table td:nth-of-type(odd) {
        text-align: right;
    }

    .wf-detail-table th:nth-of-type(even), .wf-detail-table td:nth-of-type(even) {
        text-align: left;
    }

    .wf-detail-userInfo {
        width: 50px;
        height: 50px;
        float: left;
        margin: 3px;
        border-radius: 5px;
        overflow: hidden;
    }

    #wf-detail-comment .wf-detail-userInfo {
        width: 30px;
        height: 30px;
        float: left;
        margin: 3px 14px 3px 3px;
        border-radius: 50px;
        overflow: hidden;
    }

    #wf-detail-comment .wf-detail-userInfo .wf-detail-userPic > img {
        width: 30px;
        height: 30px;
        display: block;
    }

    .wf-detail-userInfo {
        width: 50px;
        height: 50px;
        float: left;
        margin: 5px;
    }

    .wf-person-pic {
        width: 50px;
        height: 50px;
        /*border-radius: 50px;*/
    }

    .wf-detail-userName {
        width: 100%;
        height: 20px;
        line-height: 20px;
        text-align: center;
        left: 0;
        bottom: 0;
        background: rgba(0, 0, 0, 0.3);
        color: #fff;
    }

    .wf-detail-userName {
        text-align: center;
        color: #fff;
        font-size: 13px;
    }

    .wf-task-type h1 {
        font-size: 26px;
        /*height: 30px;*/
        /*line-height: 30px;*/
        text-align: center;
    }

    #wf-detail-moreWrapper {
        font-size: 26px;
        height: 30px;
        line-height: 30px;
        bottom: 0;
        right: 0;
    }

    .wf-detail-userInfo .closePic {
        display: none;
        position: absolute;
        top: 0;
        right: 0;
        width: 20px;
        height: 20px;
        line-height: 20px;
        background: rgba(0, 0, 0, 0.3);
        color: #fff;
        font-size: 12px;
        text-align: center;
        cursor: pointer;
    }

    .wf-form-height {
        height: 600px;
    }

    .wf-detail-tableSearch td, .wf-detail-tableSearch th {
        border: 1px solid #ccc;
    }

    #wf-detail-form .hb td, #wf-detail-form .hb th {
        border: 1px solid #ccc;
    }

    #wf-detail-form input, #wf-detail-form select {
        width: 150px;
    }

    #wf-labelName-error {
        color: #d9534f;
    }

    #wf-detail-comment, #wf-detail-progress {
        min-height: 300px;
    }

    #wf-detail-comment td .delete-btn {
        display: none;
        transition: .3s 0s all ease-in-out;
    }

    #wf-detail-comment td:hover .delete-btn {
        display: block;
    }

    #wf-detail-comment .wf-reply-detail img {
        margin: 0 5px;
    }

    .wf-reply-table tr {
        border-top: 1px dashed #ccc;
    }

    .wf-reply-table tr td {
        padding: 10px;
    }

    .wf-reply-detail div {
        line-height: 25px;
    }

    #wf-editor {
        min-height: 250px;
        background-color: white;
        border-collapse: separate;
        border: 1px solid rgb(204, 204, 204);
        padding: 4px;
        box-sizing: content-box;
        -webkit-box-shadow: rgba(0, 0, 0, 0.0745098) 0px 1px 1px 0px inset;
        box-shadow: rgba(0, 0, 0, 0.0745098) 0px 1px 1px 0px inset;
        border-top-right-radius: 3px;
        border-bottom-right-radius: 3px;
        border-bottom-left-radius: 3px;
        border-top-left-radius: 3px;
        overflow: auto;
        outline: none;
        margin-top: 10px;
        position: relative;
    }

    #wf-editor .reply-editor {
        padding-top: 5px;
        margin-top: 40px;
        width: 100%;
        margin-left: 0;
    }

    .wf-reply-info-content > div {
        line-height: 20px;
        word-break: break-word;
    }

    .wf-reply-info-content .wf-reply-info img {
        max-width: 100%;
    }

    .wf-reply-user-name {
        color: #676a6c;
    }

    .wf-reply-time {
        color: #888;
    }

    .wf-reply-info {
        color: #333;
    }

    /* 历史记录样式开始 */
    time {
        margin: 0 12px;
    }

    .timeLine ul {
        margin-left: 10px;
    }

    .timeLine li {
        line-height: 25px;
        margin: 10px 0;
        overflow: hidden;
    }

    .recordtime {
        width: 220px;
        height: 30px;
        line-height: 30px;
        top: -2px;
    }

    .recordTime time {
        display: inline-block;
        position: relative;
        top: 3px;
    }

    .recordContent {
        width: calc(98% - 200px);
    }

    .recordContent .contentTitle {
        display: inline-block;
        position: relative;
        left: 100px;
    }

    #wf-detail-verticalLine {
        display: block;
        width: 1px;
        background: chocolate;
        left: 15px;
        top: 45px;
        z-index: 0;
    }

    .timeLineIcon {
        z-index: 4;
    }

    .horizontalLine {
        display: block;
        top: 16px;
        left: 29px;
        width: 15px;
        height: 1px;
        background: chocolate;
    }

    #wf-detail-funWrapper {
        min-height: 300px;
        margin-top: 25px;
    }

    #wf-detail-funWrapper ul {
        list-style-type: none;
        padding-left: 0;
    }

    #wf-detail-progress {
        overflow: auto;
        position: relative;
        padding-top: 20px;
    }

    #wf-detail-progress img {
        width: 30px;
        height: 30px;
    }

    #wf-detail-progress .content p {
        margin-left: 175px;
    }

    #wf-detail-progress .historyEdit {
        margin-left: 40px;
    }

    #wf-detail-progress .historyEdit li {
        margin: 1px;
    }

    .historyConTitle {
        color: #000;
        display: inline-block;
        width: 200px;
        text-align: right;
    }

    .oldName {
        color: #369;
        margin-right: 5px;
    }

    .newName {
        color: #369;
        margin-left: 5px;
    }

    .historyAction {
        color: #979797;
        font-weight: normal;
    }

    .text-detail {
        resize: none;
        height: 200px !important;
    }

    .wf-verify-status {
        position: absolute;
        top: 28%;
        width: 100%;
    }

    .wf-task-detail {
        background-color: #FFFFFF;
        border: none;
        max-width: 850px;
        font-family: "Microsoft YaHei", "微软雅黑", "arial", "sans-serif";
        padding-left: 10px;
        font-size: inherit;
        /*pre 换行*/
        white-space: pre-wrap; /* Since CSS 2.1 */
        white-space: -moz-pre-wrap; /* Mozilla, since 1999 */
        white-space: -o-pre-wrap; /* Opera 7 */
        word-wrap: break-word; /* Internet Explorer 5.5+ */
    }

    @media (min-width: 1500px) {
        .wf-task-detail {
            max-width: none;
        }
    }

    .wf-table-head {
        background: #e5f3ff;;
    }

    .wf-detail-tag-delete {
        top: 0;
        right: 0;
        display: block;
        height: 16px;
        width: 16px;
        font-size: 12px;
        text-align: center;
        line-height: 16px;
        cursor: pointer;
        z-index: 12;
    }

    .wf-detail-show-table .wf-detail-tag-delete {
        display: none;
    }

    .wf-ellipsis-item {
        display: inline-block;
        width: 100px;
    }

    #wf-detail-container .no-edit-icon {
        font-size: 12px;
        position: inherit;
    }

    #wf-detail-container .wf-attachment-nav {
        padding: 0;
        list-style-type: none;
        display: inline-block;
        margin-bottom: 0;
        vertical-align: top;
    }

    #wf-attachment-labelWrapper li {
        display: inline-block;
        margin: 0 10px;
    }

    #wf-attachment-labelWrapper li .files {
        min-width: 150px;
        min-height: 120px;
        text-align: center;
        border: 1px solid #ccc;
        box-sizing: border-box;
        position: relative;
        color: #fff;
    }

    #wf-attachment-labelWrapper li:hover .files > button {
        display: block;
    }

    #wf-attachment-labelWrapper .files .file-type {
        border-bottom: 1px solid #ccc;
        height: 80px;
        line-height: 80px;
        background-size: contain !important;
    }

    #wf-attachment-labelWrapper .files .file-type a {
        display: inline-block;
        width: 100%;
        height: 100%;
    }

    #wf-attachment-labelWrapper .files .file-info {
        display: block;
        font-size: 12px;
        height: 60px;
        top: 0px;
        color: #333;
    }

    #wf-attachment-labelWrapper .files > button {
        cursor: pointer;
        color: #ccc;
        font-size: 12px;
        padding: 2px;
        transition: .3s 0s all ease;
        outline: none;
        background: transparent;
        border: none;
        display: none;
        position: absolute;
        right: 0;
    }

    #wf-attachment-labelWrapper .files > button:nth-of-type(1):hover {
        text-decoration: none;
        color: #f00;
        background: transparent;
    }

    #wf-attachment-labelWrapper .files .file-info p {
        margin: 0;
        line-height: 20px;
        width: 100%;
        text-overflow: ellipsis;
        white-space: nowrap;
        max-width: 150px;
        overflow: hidden;
        text-align: center;
    }

    #wf-attachment-labelWrapper .files .file-info .file-name {
        font-size: 12px;
    }

    #wf-attachment-labelWrapper .files .file-info .file-time {
        font-size: 90%;
    }

    #wf-attachment-labelWrapper .files .file-type i {
        font-size: 36px;
    }

    #wf-attachment-input-btn {
        position: relative;
        cursor: pointer;
    }

    #wf-attachment-input-btn:after {
        content: "";
        position: absolute;
        width: 30px;
        height: 30px;
        border: 2px solid #ccc;
        border-radius: 100%;
        left: -6px;
        top: 3px;
        -webkit-font-smoothing: subpixel-antialiased;
    }

    .file-add-btn {
        width: 150px;
        height: 120px;
        border: 1px solid #ccc;
        position: relative;
        top: 0px;
        display: inline-block;
    }

    .file-add-btn .file-type {
        text-align: center;
        height: 40px;
        font-size: 24px;
        position: relative;
    }

    .file-add-btn .file-info {
        position: relative;
        top: 6px;
    }

    /* 历史记录样式结束 */
</style>
<div id="wf-mineEdit-content" class="scrollbar">
    <div id="wf-detail-container">
    </div>
    <div id="wf-fault-curve"></div>
    <div id="wf-detail-other-fun-wrapper"></div>
</div>

<!--@formatter:off-->
<!-- 详情标签查看页面标签文字显示开始 -->
<script type="text/html" id="tpl_wf_detail_new_tags_option">
    <option disabled selected value="0" i18n="workflow.task.SELECT_TAG_NAME_INFO"></option>
    <!for(var e=0; e < tags.length; e++){!>
        <option value="<!=tags[e].id!>" data-userid="<!=tags[e].id!>"><!=tags[e].name!></option>
    <!}!>
</script>
<!-- 详情标签查看页面标签文字显示结束 -->
<!-- 详情标签下拉选项开始 -->
<script type="text/html" id="tpl_wf_detail_show_tags_text">
    <!var htmlTags="";!>
    <!for(var l=0; l < tags.length; l++){!>
        <!var tag=tags[l];!>
        <!if(l!=tags.length-1){!>
            <!htmlTags+=tag.name+",";!>
        <!}else{!>
            <!htmlTags+=tag.name;!>
        <!}!>
    <!}!>
    <!=htmlTags!>
</script>
<!-- 详情标签下拉选项结束 -->
<!-- 详情标签开始 -->
<script type="text/html" id="tpl_wf_detail_labels">
    <!for(var e=0; e < tags.length; e++){!>
        <!var tag = tags[e]; !>
        <span class="pr wf-task-label-wrapper pr">
            <i class="pa wf-detail-tag-delete glyphicon glyphicon-remove" data-id="<!=tag.id!>"></i>
            <span class="glyphicon glyphicon-tag"></span>
            <span class="wf-task-label"><!=tag.name!></span>
            <input type="hidden" value="<!=tag.id!>" name="tags[]"/>
        </span>
    <!}!>
</script>
<!-- 详情标签结束 -->
<!-- 详情下部功能模板开始 -->
<script type="text/html" id="tpl_wf_detail_fun">
    <div id="wf-detail-funWrapper">
        <ul id="wf-detail-funUl" class="wf-ul">
            <li id="wf-detail-comment-nav" class="active hasEvent mr5" data-topic="wf-fun-change"
                data-param="comment">
                <span class="glyphicon glyphicon-comment" aria-hidden="true"></span>
                <span i18n="workflow.activities.REVIEW"></span>
            </li>
            <li id="wf-detail-progress-nav" class="hasEvent" data-topic="wf-fun-change" data-param="progress">
                <span class="glyphicon glyphicon-list-alt" aria-hidden="true"></span>
                <span i18n="workflow.task.TASK_PROGRESS"></span>
            </li>
        </ul>
        <div id="wf-detail-comment"></div>
        <ul id="wf-detail-progress" class="dn timeLine"></ul>
    </div>
</script>
<!-- 详情下部功能模板结束 -->

<!-- 详情取消/提交模板开始 -->
<script type="text/html" id="tpl_wf_detail_btn_fun">
    <div class="tc oh mt20">
        <button type="submit" id="wf-detail-submit" class="btn btn-primary" data-topic="wf-detail-submit"
                data-param="edit"
                i18n="workflow.insert.CONFIRM;value=workflow.insert.CONFIRM;title=workflow.insert.CONFIRM">
        </button>
    </div>
</script>
<!-- 详情取消/提交模板结束 -->
<!-- 评论模板开始 -->
<script type="text/html" id="tpl_detail_reply">
    <div class="mb20 oh">
        <div class="reply-editor">
            <div id="wf-editor"></div>
            <button id="wf-btn-reply" class="btn btn-success btn-reply mt10 fr"
                    i18n="workflow.notice.COMMENTS;value=workflow.notice.COMMENTS;title=workflow.notice.COMMENTS"></button>
        </div>
    </div>
    <table class="wf-table wf-reply-table" id="wf-reply-table"></table>
</script>
<!-- 评论模板结束 -->

<script type="text/html" id="tpl_reply_table_body">
    <tbody>
    <!for(var n=0; n < data.length; n++){!>
    <!var reply = data[n]; !>
    <tr>
        <td class="vt">
            <dl class="pr wf-detail-userInfo"
                title="<!=reply.userfullname +'\n' +(reply.useremail && reply.useremail!='undefined' ? reply.useremail : '')!>">
                <dt class="wf-detail-userPic">
                    <img src="<!=reply.userpic!>" class="wf-person-pic">
                </dt>
                <dd class="pa wf-detail-userName ellipsis dn">
                    <!=reply.userfullname!>
                </dd>
            </dl>
            <div class="wf-reply-info-content fl" style="width: 80%">
                <div class="wf-reply-user-name"><!=reply.userfullname!></div>
                <div class="wf-reply-time">
                    <!var replyTime = moment(reply.replyTime);!>
                    <!if(replyTime.diff(new Date, 'days') < 5){!>
                        <!=replyTime.fromNow()!>
                    <!}else{!>
                        <!=reply.replyTime!>
                    <!}!>
                </div>
                <div class="wf-reply-info"><!=reply.detail!></div>
            </div>
            <!if(beop.model.stateMap.cur_trans){!>
                <!var trans=beop.model.stateMap.cur_trans;!>
                <!if(trans.permission>= 2 && reply.replyUserId == AppConfig.userId){!>
                    <span class="pull-right delete-btn" data-reply-id="<!=reply.id!>">
                    <button class="btn btn-xs btn-danger">Delete</button>
                    </span>
                <!}!>
            <!}!>
        </td>
    </tr>
    <!}!>
    </tbody>
</script>

<!-- 历史记录模板开始 -->
<script type="text/html" id="tpl_detail_progress">
    <span id="wf-detail-verticalLine" class="pa"></span>
    <!for(var i=0;i < data.length; i++){!>
        <!var progress = data[i]; !>
        <li>
            <div class="recordTime pr">
                <img src="<!=progress.userpic!>"
                     title="<!=progress.userfullname +'\n' +( progress.useremail && progress.useremail !='undefined' ? progress.useremail : '')!>"
                     class="glyphicon glyphicon-record mr10 timeLineIcon"/>
                <span class="pa horizontalLine"></span>
                <span title="<!=progress.opTime!>" style="margin: 0 5px;top: 3px;position: relative;height: 25px;">
                    <!var opTimeMoment = moment(progress.opTime);!>
                    <!if(opTimeMoment.diff(new Date, 'days') > -5){!>
                        <!=opTimeMoment.fromNow()!>
                    <!}else{!>
                        <!=progress.opTime!>
                    <!}!>
                </span>
            </div>
            <div class="recordContent">
                <span class="contentTitle"><!=WorkflowTool.translate(progress.op)!></span>
                <!if(progress.op==='edit' || progress.op==='forward'){!>
                    <span class="content"><!=WorkflowTool.translate(progress.detail)!></span>
                <!}!>
            </div>
        </li>
    <!}!>
</script>
<!-- 历史记录模板结束 -->

<!-- 新建详情模板开始 -->
<script type="text/html" id="tpl_wf_detail_new">
    <ol class="breadcrumb" style="padding: 0;">
        <li i18n="workflow.navigation.TASK"></li>
        <li class="active"><!=navigation!></li>
    </ol>
    <form id="wf-detail-form" action="javascript:void(0);" method="post" class="task-new">
        <div class="mb30" class="wf-form-height">
            <div class="wf-task-type"><h1></h1></div>
            <table class="mb30 wf-table wf-detail-table">
                <tbody>
                <tr>
                    <td width="10%" class="wf-table-head">
                        <span i18n=workflow.mine.WORK_ORDER_NAME></span><i>：</i>
                    </td>
                    <td width="40%">
                        <input type="text" class="form-control w200" maxlength="25"
                               i18n="placeholder=workflow.task.INPUT_TASK_TITLE_INFO"
                               style="width: 300px;"
                               name="title"/>
                    </td>
                    <td width="10%" class="wf-table-head">
                        <span i18n="workflow.notice.DEADLINE"></span><i>：</i>
                    </td>
                    <td width="40%">
                        <input type="text" name="dueDate" class="form-control w200" readonly
                               i18n="placeholder=workflow.task.SELECTED_DUE_DATE_INFO"
                               id="dueTime"/>
                    </td>
                </tr>
                <tr>
                    <td class="wf-table-head">
                        <span i18n="workflow.task.TASK_GROUP"></span><i>：</i>
                    </td>
                    <td>
                        <select class="form-control w200" id="wf-group-type"
                                i18n="placeholder=workflow.task.SELECT_TASK_GROUP" name="groupId">
                            <!var groupList = beop.model.stateMap.group_list;!>
                            <!for(var m=0; m < groupList.length; m++){!>
                                <!if(groupList[m].type == 0){!>
                                    <option value="<!=groupList[m].id!>" selected><!=I18n.resource.workflow.main.DEFAULT_GROUP!></option>
                                <!}else{!>
                                    <option value="<!=groupList[m].id!>"><!=groupList[m].name!></option>
                                <!}!>
                            <!}!>
                        </select>
                    </td>
                    <td class="wf-table-head">
                        <span i18n="workflow.urgencyLevel.URGENCY_LEVEL"></span><i>：</i>
                    </td>
                    <td>
                        <select id="wf-detail-critical" class="form-control" name="critical">
                            <option value="0" i18n="workflow.urgencyLevel.0"></option>
                            <option value="1" i18n="workflow.urgencyLevel.1"></option>
                            <option value="2" i18n="workflow.urgencyLevel.2"></option>
                        </select>
                    </td>
                </tr>
                <tr>
                    <td class="wf-table-head">
                        <span i18n="workflow.main.WORKFLOW_DETAIL"></span><i>：</i>
                    </td>
                    <td colspan="3">
                        <textarea class="form-control fl text-detail" id="wfDetail" name="detail"
                                  i18n="placeholder=workflow.task.CHECK_TASK_INFO"
                                  maxlength="1500"></textarea>
                    </td>
                </tr>
                <tr>
                    <td class="wf-table-head">
                        <span i18n="workflow.task.STARING"></span><i>：</i>
                    </td>
                    <td>
                        <span id="wf-detail-star"
                              class="glyphicon glyphicon-star-empty wf-detail-star cp hasEvent wf-has-star"
                              data-topic="wf-star-select"></span>
                        <input id="wf-detail-collection" type="hidden" name="collection" value="false"/>
                    </td>
                    <td class="wf-table-head">
                        <span i18n="workflow.mine.EXECUTOR"></span><i>：</i>
                    </td>
                    <td>
                        <div class="wf-detail-userInfoWrapper" data-type="executor">
                        </div>
                        <span class="glyphicon glyphicon-edit wf-add-user" data-type="executor"></span>
                    </td>
                </tr>
                <tr>
                    <td class="wf-table-head">
                        <span i18n="workflow.task.VERIFIERS"></span><i>：</i>
                    </td>
                    <td>
                        <div class="wf-detail-userInfoWrapper" data-type="verifiers"></div>
                        <span class="glyphicon glyphicon-edit wf-add-user" data-type="verifiers"></span>
                    </td>
                    <td class="wf-table-head">
                        <span i18n="workflow.task.WATCHERS"></span><i>：</i>
                    </td>
                    <td>
                        <div class="wf-detail-userInfoWrapper" data-type="watchers"></div>
                        <span class="glyphicon glyphicon-edit wf-add-user" data-type="watchers"></span>
                    </td>
                </tr>
                <tr>
                    <td class="wf-table-head">
                        <span i18n="workflow.task.TAGS"></span><i>：</i>
                    </td>
                    <td colspan="3">
                        <div id="wf-detail-labelWrapper" class="mr10 fl"></div>
                        <select class="form-control fl mr10" id="labelName"></select>
                        <span id="wf-labelName-error" class="dn" i18n="workflow.task.ADD_TAGS_INFO"></span>
                    </td>
                </tr>
                <tr>
                    <td class="wf-table-head">
                        <span i18n="workflow.task.ATTACHMENT"></span>
                    </td>
                    <td colspan="3">
                        <div id="wf-attachment-labelWrapper" class="mr10 fl">
                            <ul class="wf-attachment-nav"></ul>
                            <div class="files file-add-btn">
                                <section class="file-type">
                                    <span id="wf-attachment-input-btn">
                                        +
                                    </span>
                                </section>
                                <section class="file-info">
                                    <p class="file-time" i18n="workflow.task.ATTACHMENT_INFO"
                                       style="line-height: 40px;"></p>
                                </section>
                            </div>
                        </div>
                    </td>
                </tr>
                </tbody>
            </table>
            <div class="tc oh mt20">
                <button type="submit" id="wf-task-new-submit" class="btn btn-primary" data-topic="wf-task-new-submit"
                        data-param="edit"
                        i18n="workflow.insert.CONFIRM;value=workflow.insert.CONFIRM;title=workflow.insert.CONFIRM">
                </button>
            </div>
        </div>
    </form>
</script>
<!-- 新建详情模板结束 -->
<script type="text/html" id="tpl_wf_detail_empty">
    <form id="wf-detail-form" action="">
        <a href="javascript:void (0)" class="btn btn-white btn-sm" id="wf-task-return" data-topic="wf-task-return">
            <i class="glyphicon glyphicon-arrow-left"></i> <span i18n="workflow.task.BACK"></span>
        </a>

        <div style="margin: 0 auto;width: 400px;">
            <img class="noActivities" src="static/images/workflow/emptyActivitys.gif" style="height: 100%;">

            <div i18n="workflow.task.TASK_NOT_EXIST_INFO"></div>
        </div>
    </form>
</script>
<!-- 显示详情模板开始 -->
<script type="text/html" id="tpl_wf_detail_show">
    <!if(navigation){!>
    <ol class="breadcrumb" style="padding: 0;">
        <li i18n="workflow.navigation.TASK"></li>
        <li class="active"><!=navigation!></li>
    </ol>
    <!}!>
    <form id="wf-detail-form" action="">
        <a href="javascript:void (0)" class="btn btn-white btn-sm" id="wf-task-return" data-topic="wf-task-return">
            <i class="glyphicon glyphicon-arrow-left"></i> <span i18n="workflow.task.BACK"></span>
        </a>
        <!if((trans.statusId === 0)&& (trans.permission === 4 || trans.permission === 5 ||
        trans.permission === 6 ||
        trans.permission === 12|| trans.permission === 14|| trans.permission === 15 || trans.permission === 7
        ||trans.permission==13 )){!>
            <a data-type="执行人-开始" href="javascript:void (0)" class="btn btn-white btn-sm" id="wf-detail-start">
                <i class="glyphicon glyphicon-play"></i> <span i18n="workflow.main.START"></span>
            </a>
        <!}!>
        <!if(trans.permission >= 2 ){!>
            <a href="javascript:void (0)" class="btn btn-white btn-sm" id="wf-detail-edit">
                <i class="glyphicon glyphicon-edit no-edit-icon"></i> <span i18n="workflow.main.EDIT"></span>
            </a>
        <!}!>
        <!if(trans.statusId === 1 && trans.executorID == AppConfig.userId && (trans.permission === 3 ||
        trans.permission
        === 5 ||
        trans.permission === 6 || trans.permission === 4 ||
        trans.permission === 12|| trans.permission === 14|| trans.permission === 15 || trans.permission === 7
        ||trans.permission==13 )){!>
            <a data-type="执行人-完成" href="javascript:void (0)" class="btn btn-white btn-sm" id="wf-detail-complete"
               data-toggle="tooltip"
               data-placement="bottom" i18n="data-original-title=workflow.task.FINISH_INFO">
                <i class="glyphicon glyphicon-check"></i> <span i18n="workflow.main.FINISH"></span>
            </a>
        <!}!>
        <!if(trans.statusId !== 2 && trans.statusId !== 3 && trans.statusId !== 5 && trans.statusId !== 6 &&
        trans.statusId !== 8 &&
        trans.permission>1 ){!>
            <a data-type="执行人，创建人，审核人-转发" href="javascript:void (0)" class="btn btn-white btn-sm" id="wf-detail-forward"
               data-toggle="tooltip"
               data-placement="bottom" i18n="data-original-title=workflow.process.FORWARD">
                <i class="glyphicon glyphicon-share"></i> <span i18n="workflow.process.FORWARD"></span>
            </a>
        <!}!>
        <!if( trans.statusId !== 0 && trans.statusId !== 8 && trans.permission>= 8){!>
            <a data-type="执行人-停止" href="javascript:void (0)" class="btn btn-white btn-sm" id="wf-detail-end"
               data-toggle="tooltip"
               data-placement="bottom" i18n="data-original-title=workflow.process.FORWARD">
                <i class="glyphicon glyphicon-remove"></i> <span i18n="workflow.process.END"></span>
            </a>
        <!}!>
        <!if( (trans.statusId >= 2 && trans.statusId != 8) && (trans.permission === 2 || trans.permission === 3 ||
        trans.permission === 6 || trans.permission === 11 ||
        trans.permission === 7|| trans.permission === 10|| trans.permission === 14 || trans.permission === 15)){!>
        <div class="btn-group verified-btn-group" data-toggle="buttons">
            <!var verifier_status = trans.verifiers_status ? trans.verifiers_status[AppConfig.userId] : 0;!>

            <!if(verifier_status == 1){!>
            <a href="javascript:void (0)" class="btn btn-white btn-sm active" id="wf-verify-pass" data-toggle="tooltip"
               data-placement="bottom" i18n="data-original-title=workflow.task.VERIFIER_PASS">
                <input type="radio" name="options" autocomplete="off"><i
                    class="glyphicon glyphicon-ok-circle"></i> <span
                    i18n="workflow.task.PASS"></span>
            </a>
            <!}else{!>
            <a href="javascript:void (0)" class="btn btn-white btn-sm" id="wf-verify-pass" data-toggle="tooltip"
               data-placement="bottom" i18n="data-original-title=workflow.task.VERIFIER_PASS">
                <input type="radio" name="options" autocomplete="off"><i
                    class="glyphicon glyphicon-ok-circle"></i> <span
                    i18n="workflow.task.PASS"></span>
            </a>
            <!}!>
            <!if(verifier_status == 2){!>
            <a href="javascript:void (0)" class="btn btn-white btn-sm active" id="wf-verify-not-pass"
               data-toggle="tooltip"
               data-placement="bottom" i18n="data-original-title=workflow.task.VERIFIERS_NOT_PASS">
                <input type="radio" name="options" autocomplete="off"><i class="glyphicon glyphicon-remove-circle"></i> <span
                    i18n="workflow.task.NOT_PASS"></span>
            </a>
            <!}else{!>
            <a href="javascript:void (0)" class="btn btn-white btn-sm" id="wf-verify-not-pass" data-toggle="tooltip"
               data-placement="bottom" i18n="data-original-title=workflow.task.VERIFIERS_NOT_PASS">
                <input type="radio" name="options" autocomplete="off"><i class="glyphicon glyphicon-remove-circle"></i> <span
                    i18n="workflow.task.NOT_PASS"></span>
            </a>
            <!}!>
        </div>
        <!}!>
        <table class="wf-table wf-detail-table hb mb30 mt20 wf-detail-show-table">
            <tbody>
            <tr>
                <td width="10%" class="wf-table-head"><span i18n="workflow.task.SERIAL_NUMBER"></span><i>：</i></td>
                <td width="40%"><!=trans.id!></td>
                <td width="10%" class="wf-table-head"><span i18n="workflow.mine.STATUS"></span><i>：</i></td>
                <td width="40%" i18n="workflow.taskStatus.<!=trans.statusId!>"></td>
            </tr>
            <tr>
                <td width="10%" class="wf-table-head"><span i18n="workflow.task.CREATE_TIME"></span><i>：</i></td>
                <td width="40%"><!=trans.createTime ? timeFormat(trans.createTime,timeFormatChange('yyyy-mm-dd hh:ii:ss')) : ''!></td>
                <td width="10%" class="wf-table-head"><span i18n="workflow.notice.DEADLINE"></span><i>：</i></td>
                <td width="40%">
                    <!if(trans.dueDate){!>
                        <!var dueDate = trans.dueDate.toDate().format('yyyy-MM-dd');!>
                        <!var dueDateFormat = timeFormat(dueDate,timeFormatChange('yyyy-mm-dd'));!>
                        <!=dueDateFormat!>
                        <!if(!trans.dueDate){!>
                            <!=''!>
                        <!}else if(parseInt(trans.statusId) > 3){!>
                        <!}else if(moment(dueDate).diff(new Date().format('yyyy-MM-dd'), 'days') < 0){!>
                            <label class="label label-danger" title="<!=dueDateFormat!>"><span i18n="workflow.task.OVERDUE"></span>
                                <!=Math.abs(moment(dueDate).diff(new Date().format('yyyy-MM-dd'), 'days'))!>
                                <span i18n="workflow.task.DAY"></span>
                            </label>
                        <!}else if(moment(dueDate).diff(new Date().format('yyyy-MM-dd'), 'days') == 0){!>
                            <label class="label label-danger" title="<!=dueDateFormat!>" i18n="workflow.calendar.TODAY"></label>
                        <!}else if(moment(dueDate).diff(new Date().format('yyyy-MM-dd'), 'days') == 1){!>
                            <label class="label label-warning" title="<!=dueDateFormat!>" i18n="workflow.task.TOMORROW"></label>
                        <!}!>
                    <!}!>
                </td>
            </tr>
            <tr>
                <td class="wf-table-head">
                    <span i18n="workflow.task.TITLE"></span><i>：</i>
                    <input type="hidden" name="title" value="<!=trans.title!>"/>
                </td>
                <td style="word-break: break-word;"><!=trans.title!></td>
                <td class="wf-table-head">
                    <span i18n="workflow.task.TASK_GROUP"></span><i>：</i>
                </td>
                <td>
                    <!=trans.groupName!>
                    <input type="hidden" name="groupId" value="<!=trans.groupid!>"/>
                </td>
            </tr>
            <tr>
                <td class="wf-table-head">
                    <span i18n="workflow.task.STARING"></span><i>：</i>
                </td>
                <td>
                    <!if(trans.star){!>
                        <span i18n="workflow.task.HAS_COLLECTED"></span>
                    <!}else{!>
                        <span i18n="workflow.task.NOT_COLLECTED"></span>
                    <!}!>
                </td>
                <td class="wf-table-head">
                    <span i18n="workflow.urgencyLevel.URGENCY_LEVEL"></span><i>：</i>
                </td>
                <td i18n="workflow.urgencyLevel.<!=trans.critical!>"></td>
            </tr>
            <tr>
                <td class="wf-table-head">
                    <span i18n="workflow.main.WORKFLOW_DETAIL"></span><i>：</i>
                </td>
                <td colspan="3">
                    <pre class="wf-task-detail"><!=trans.detail!></pre>
                </td>
            </tr>
            <tr>
                <td class="wf-table-head">
                    <span i18n="workflow.task.CREATED_PERSON"></span><i>：</i>
                </td>
                <td>
                    <!var creatorData=trans.creator;!>
                    <!if(creatorData){!>
                    <div class="wf-detail-userInfoWrapper">
                        <dl class="pr wf-detail-userInfo">
                            <dt class="wf-detail-userPic">
                                <img src="<!=creatorData.userpic!>" class="wf-person-pic">
                            </dt>
                            <dd class="pa wf-detail-userName ellipsis"
                                title="<!=creatorData.userfullname +'\n' + (creatorData.useremail && creatorData.useremail!='undefined'  ? creatorData.useremail : '')!>">
                                <!=creatorData.userfullname!>
                            </dd>
                        </dl>
                    </div>
                    <!}!>
                </td>
                <td class="wf-table-head">
                    <span i18n="workflow.mine.EXECUTOR"></span><i>：</i>
                </td>
                <td>
                    <!var executorData=trans.executor;!>
                    <!if(executorData){!>
                    <div class="wf-detail-userInfoWrapper" data-type="executor">
                        <dl class="pr wf-detail-userInfo">
                            <dt class="wf-detail-userPic">
                                <img src="<!=executorData.userpic!>" class="wf-person-pic">
                            </dt>
                            <dd class="pa wf-detail-userName ellipsis"
                                title="<!=executorData.userfullname + '\n' + (executorData.useremail && executorData.useremail!='undefined' ? executorData.useremail : '')!>">
                                <!=executorData.userfullname!>
                            </dd>
                        </dl>
                    </div>
                    <!}!>
                </td>
            </tr>
            <tr>
                <td class="wf-table-head">
                    <span i18n="workflow.task.VERIFIERS"></span><i>：</i>
                </td>
                <td>
                    <div class="wf-detail-userInfoWrapper" data-type="verifiers">
                        <!for(var l=0; l < trans.verifiers.length; l++){!>
                            <!var verifiersData=trans.verifiers[l];!>
                            <dl class="pr wf-detail-userInfo">
                                <dt class="wf-detail-userPic">
                                    <img src="<!=verifiersData.userpic!>" class="wf-person-pic">
                                    <!var verifier_status = trans.verifiers_status ? trans.verifiers_status[verifiersData.id] : 0;!>
                                    <!if(verifier_status == 1){!>
                                        <label class="label label-success wf-verify-status" i18n="workflow.task.PASS"></label>
                                    <!}else if(verifier_status == 2){!>
                                        <label class="label label-danger wf-verify-status" i18n="workflow.task.NOT_PASS"></label>
                                    <!}!>
                                </dt>
                                <dd class="pa wf-detail-userName ellipsis"
                                    title="<!=verifiersData.userfullname + '\n' +(verifiersData.useremail && verifiersData.useremail!='undefined' ? verifiersData.useremail : '') !>">
                                    <!=verifiersData.userfullname!>
                                </dd>
                            </dl>
                        <!}!>
                    </div>
                </td>
                <td class="wf-table-head">
                    <span i18n="workflow.task.WATCHERS"></span><i>：</i>
                </td>
                <td>
                    <div class="wf-detail-userInfoWrapper" data-type="watchers">
                        <!for(var l=0; l < trans.watchers.length; l++){!>
                            <!var watchersData=trans.watchers[l];!>
                            <dl class="pr wf-detail-userInfo">
                                <dt class="wf-detail-userPic">
                                    <img src="<!=watchersData.userpic!>" class="wf-person-pic">
                                </dt>
                                <dd class="pa wf-detail-userName ellipsis"
                                    title="<!=watchersData.userfullname + '\n' +(watchersData.useremail && watchersData.useremail!='undefined' ? watchersData.useremail : '' )!>">
                                    <!=watchersData.userfullname!>
                                </dd>
                            </dl>
                        <!}!>
                    </div>
                </td>
            </tr>
            <tr>
                <td class="wf-table-head">
                    <span i18n="workflow.task.TAGS"></span><i>：</i>
                </td>
                <td colspan="3">
                    <div id="wf-detail-labelWrapper" class="mr10 fl"></div>
                </td>
            </tr>
            <tr>
                <td class="wf-table-head">
                    <span i18n="workflow.task.ATTACHMENT"></span>
                </td>
                <td colspan="3">
                    <div id="wf-attachment-labelWrapper" class="mr10 fl">
                        <ul class="wf-attachment-nav"></ul>
                        <div class="files file-add-btn">
                            <section class="file-type">
                                    <span id="wf-attachment-input-btn">
                                        +
                                    </span>
                            </section>
                            <section class="file-info">
                                <p class="file-time" i18n="workflow.task.ATTACHMENT_INFO"
                                   style="line-height: 40px;"></p>
                            </section>
                        </div>
                    </div>
                </td>
            </tr>
            </tbody>
        </table>
    </form>

</script>
<!-- 查询详情模板结束 -->

<!-- 编辑详情模板开始 -->
<script type="text/html" id="tpl_wf_detail_edit">
    <form id="wf-detail-form" action="">
        <a href="javascript:void (0)" class="btn btn-white btn-sm" id="wf-task-return" data-topic="wf-task-return">
            <i class="glyphicon glyphicon-arrow-left"></i> <span i18n="workflow.task.BACK"></span></a>
        <a href="javascript:void (0)" class="btn btn-white btn-sm" id="wf-detail-show" data-topic="wf-detail-show">
            <i class="glyphicon glyphicon-eye-open"></i> <span i18n="workflow.task.SEE"></span></a>
        <a href="javascript:void (0)" class="btn btn-white btn-sm" id="wf-detail-save">
            <i class="glyphicon glyphicon-save"></i> <span i18n="workflow.task.SAVE"></span></a>
        <!if(trans.permission >= 8){!>
            <a href="javascript:void (0)" class="btn btn-white btn-sm" id="wf-detail-delete">
                <i class="glyphicon glyphicon-trash"></i> <span i18n="workflow.main.DELETE"></span>
            </a>
        <!}!>
        <div class="mb30">
            <table class="mt20 mb30 wf-table wf-detail-table">
                <tbody>
                <tr>
                    <td width="10%" class="wf-table-head"><span i18n="workflow.task.SERIAL_NUMBER"></span><i>：</i></td>
                    <td width="40%"><!=trans.id!></td>
                    <td width="10%" class="wf-table-head"><span i18n="workflow.mine.STATUS"></span><i>：</i></td>
                    <td width="40%" i18n="workflow.taskStatus.<!=trans.statusId!>"></td>
                </tr>
                <tr>
                    <td width="10%" class="wf-table-head">
                        <span i18n="workflow.task.CREATE_TIME"></span><i>：</i>
                    </td>
                    <td width="40%"><!=trans.createTime ? trans.createTime : ''!></td>
                    <td width="10%" class="wf-table-head">
                        <span i18n="workflow.notice.DEADLINE"></span><i>：</i>
                    </td>
                    <td width="40%">
                        <!if(trans.permission >= 2){!>
                            <input type="text" id="dueTime" name="dueDate" class="form-control w200"
                                   i18n="placeholder=workflow.task.SELECTED_DUE_DATE_INFO"
                                   value="<!=trans.dueDate ? trans.dueDate : new Date()!>"/>
                        <!}else{!>
                            <!if(trans.dueDate){!>
                                <!var dueDate = trans.dueDate.toDate().format('yyyy-MM-dd');!>
                                <!=dueDate!>
                                <!if(!trans.dueDate){!>
                                    <!=''!>
                                <!}else if(parseInt(trans.statusId) > 3){!>
                                <!}else if(moment(dueDate).diff(new Date().format('yyyy-MM-dd'), 'days') < 0){!>
                                    <label class="label label-danger" title="<!=dueDate!>">
                                        <span i18n="workflow.task.OVERDUE"></span>
                                        <!=Math.abs(moment(dueDate).diff(new Date().format('yyyy-MM-dd'), 'days'))!>
                                        <span i18n="workflow.task.DAY"></span>
                                    </label>
                                <!}else if(moment(dueDate).diff(new Date().format('yyyy-MM-dd'), 'days') == 0){!>
                                    <label class="label label-danger" title="<!=dueDate!>" i18n="workflow.calendar.TODAY"></label>
                                <!}else if(moment(dueDate).diff(new Date().format('yyyy-MM-dd'), 'days') == 1){!>
                                    <label class="label label-warning" title="<!=dueDate!>" i18n="workflow.task.TOMORROW"></label>
                                <!}!>
                            <!}!>
                        <!}!>
                    </td>
                </tr>
                <tr>
                    <td class="wf-table-head">
                        <span i18n="workflow.task.TITLE"></span><i>：</i>
                        <input type="hidden" name="title" value="<!=trans.title!>"/>
                    </td>
                    <td>
                        <!if(trans.permission >= 8){!>
                            <input type="text" class="form-control w200" maxlength="25"
                                   i18n="workflow.task.INPUT_TASK_TITLE_INFO" id="wfName"
                                   style="width: 300px"
                                   name="title" value="<!=trans.title!>"/>
                        <!}else{!>
                            <!=trans.title!>
                        <!}!>
                    </td>
                    <td class="wf-table-head">
                        <span i18n="workflow.task.TASK_GROUP"></span><i>：</i>
                    </td>
                    <td>
                        <!if(trans.permission >= 8){!>
                            <select class="form-control w200" id="wf-group-type"
                                    i18n="placeholder=workflow.task.SELECT_TASK_GROUP" name="groupId">
                                <!var groupList = beop.model.stateMap.group_list;!>
                                <!for(var m=0; m < groupList.length; m++){!>
                                    <!if(groupList[m].id === trans.groupid){!>
                                        <!if(groupList[m].type == 0){!>
                                            <option value="<!=groupList[m].id!>" selected><!=I18n.resource.workflow.main.DEFAULT_GROUP!></option>
                                        <!}else{!>
                                            <option value="<!=groupList[m].id!>" selected><!=groupList[m].name!></option>
                                        <!}!>
                                    <!}else{!>
                                        <!if(groupList[m].type == 0){!>
                                            <option value="<!=groupList[m].id!>"><!=I18n.resource.workflow.main.DEFAULT_GROUP!></option>
                                        <!}else{!>
                                            <option value="<!=groupList[m].id!>"><!=groupList[m].name!></option>
                                        <!}!>
                                    <!}!>
                                <!}!>
                            </select>
                        <!}else{!>
                            <!if(trans.groupid == 0){!>
                                <!=I18n.resource.workflow.main.DEFAULT_GROUP!>
                            <!}else{!>
                                <!=trans.groupName!>
                            <!}!>
                            <input type="hidden" name="groupId" value="<!=trans.groupid!>"/>
                        <!}!>
                    </td>
                </tr>
                <tr>
                    <td class="wf-table-head">
                        <span i18n="workflow.task.STARING"></span><i>：</i>
                    </td>
                    <td>
                        <!if(trans.star){!>
                        <span id="wf-detail-star"
                              class="glyphicon glyphicon-star wf-detail-star cp hasEvent wf-has-star"
                              data-topic="wf-star-select" data-param=""></span>
                        <!}else{!>
                        <span id="wf-detail-star"
                              class="glyphicon glyphicon-star-empty wf-detail-star cp hasEvent wf-has-star"
                              data-topic="wf-star-select" data-param=""></span>
                        <!}!>
                        <input id="wf-detail-collection" type="hidden" name="collection" value="0"/>
                    </td>
                    <td class="wf-table-head">
                        <span i18n="workflow.urgencyLevel.URGENCY_LEVEL"></span><i>：</i>
                    </td>
                    <!if(trans.permission >= 2){!>
                        <td>
                            <select id="wf-detail-critical" name="critical" class="form-control">
                                <option disabled="" value="-1" i18n="workflow.urgencyLevel.URGENCY_LEVEL"></option>
                                <!if(trans.critical === 0){!>
                                    <option value="0" selected i18n="workflow.urgencyLevel.0">></option>
                                <!}else{!>
                                    <option value="0" i18n="workflow.urgencyLevel.0">></option>
                                <!}!>
                                <!if(trans.critical === 1){!>
                                    <option value="1" selected i18n="workflow.urgencyLevel.1">></option>
                                <!}else{!>
                                    <option value="1" i18n="workflow.urgencyLevel.1">></option>
                                <!}!>
                                <!if(trans.critical === 2){!>
                                    <option value="2" selected i18n="workflow.urgencyLevel.2">></option>
                                <!}else{!>
                                    <option value="2" i18n="workflow.urgencyLevel.2">></option>
                                <!}!>
                            </select>
                        </td>
                    <!}else{!>
                        <! if (typeof trans.critical === 'number'){!>
                            <td i18n="workflow.urgencyLevel.<!=trans.critical!>"></td>
                        <!} else{!>
                            <td></td>
                        <!}!>
                    <!}!>
                </tr>
                <tr>
                    <td class="wf-table-head">
                        <span i18n="workflow.main.WORKFLOW_DETAIL"></span><i>：</i>
                    </td>
                    <td colspan="3">
                        <!if(trans.permission >= 2){!>
                            <textarea class="form-control fl text-detail" id="wfDetail" name="detail"
                                      i18n="placeholder=workflow.task.CHECK_TASK_INFO"
                                      maxlength="1500"><!=trans.detail!></textarea>
                        <!}else{!>
                            <pre class="wf-task-detail"><!=trans.detail!></pre>
                        <!}!>
                    </td>
                </tr>
                <tr>
                    <td class="wf-table-head">
                        <span i18n="workflow.task.CREATED_PERSON"></span><i>：</i>
                    </td>
                    <td>
                        <!var creatorData=trans.creator;!>
                        <!if(creatorData){!>
                            <div class="wf-detail-userInfoWrapper" data-type="creator">
                                <dl class="pr wf-detail-userInfo">
                                    <dt class="wf-detail-userPic">
                                        <img src="<!=creatorData.userpic!>" class="wf-person-pic">
                                    </dt>
                                    <dd class="pa wf-detail-userName ellipsis"
                                        title="<!=creatorData.userfullname +'\n'+ (creatorData.useremail ? creatorData.useremail : '' )!>">
                                        <!=creatorData.userfullname!>
                                        <input type="hidden" name="creator" value="<!=creatorData.id!>"/>
                                    </dd>
                                </dl>
                            </div>
                        <!}!>
                    </td>
                    <td class="wf-table-head">
                        <span i18n="workflow.mine.EXECUTOR"></span><i>：</i>
                    </td>
                    <td>
                        <!var executorData=trans.executor;!>
                        <!if(executorData){!>
                            <div class="wf-detail-userInfoWrapper" data-type="executor">
                                <dl class="pr wf-detail-userInfo">
                                    <dt class="wf-detail-userPic">
                                        <img src="<!=executorData.userpic!>" class="wf-person-pic">
                                    </dt>
                                    <dd class="pa wf-detail-userName ellipsis"
                                        title="<!=executorData.userfullname +'\n'+( executorData.useremail && executorData.useremail !='undefined'  ? executorData.useremail : '' )!>">
                                        <!=executorData.userfullname!>
                                    </dd>
                                    <input type="hidden" name="executor[]" value="<!=executorData.id!>"></dl>
                            </div>
                        <!}!>
                        <!if(trans.permission >=2 ){!>
                            <span class="glyphicon glyphicon-edit wf-add-user" data-type="executor"></span>
                        <!}!>
                    </td>
                </tr>
                <tr>
                    <td class="wf-table-head">
                        <span i18n="workflow.task.VERIFIERS"><i>：</i></span>
                    </td>
                    <td>
                        <div class="wf-detail-userInfoWrapper" data-type="verifiers">
                            <!for(var l=0; l < trans.verifiers.length; l++){!>
                                <!var verifiersData=trans.verifiers[l];!>
                                <dl class="pr wf-detail-userInfo">
                                    <dt class="wf-detail-userPic">
                                        <img src="<!=verifiersData.userpic!>" class="wf-person-pic">
                                    </dt>
                                    <dd class="pa wf-detail-userName ellipsis"
                                        title="<!=verifiersData.userfullname +'\n'+ (verifiersData.useremail && verifiersData.useremail !='undefined' ? verifiersData.useremail : '')!>">
                                        <!=verifiersData.userfullname!>
                                    </dd>
                                    <input type="hidden" name="verifiers[]" value="<!=verifiersData.id!>">
                                </dl>
                            <!}!>
                        </div>
                        <!if(trans.permission >= 2 ){!>
                            <span class="glyphicon glyphicon-edit wf-add-user" data-type="verifiers"></span>
                        <!}!>
                    </td>
                    <td class="wf-table-head"><span i18n="workflow.task.WATCHERS"></span><i>：</i>
                    </td>
                    <td colspan="3">
                        <div class="wf-detail-userInfoWrapper" data-type="watchers">
                            <!for(var l=0; l < trans.watchers.length; l++){!>
                                <!var watchersData=trans.watchers[l];!>
                                <dl class="pr wf-detail-userInfo">
                                    <dt class="wf-detail-userPic">
                                        <img src="<!=watchersData.userpic!>" class="wf-person-pic">
                                    </dt>
                                    <dd class="pa wf-detail-userName ellipsis"
                                        title="<!=watchersData.userfullname +'\n'+( watchersData.useremail && watchersData.useremail !='undefined' ? watchersData.useremail : '')!>">
                                        <!=watchersData.userfullname!>
                                    </dd>
                                    <input type="hidden" name="watchers[]" value="<!=watchersData.id!>">
                                </dl>
                            <!}!>
                        </div>
                        <!if(trans.permission >= 2 ){!>
                            <span class="glyphicon glyphicon-edit wf-add-user" data-type="watchers"></span>
                        <!}!>
                    </td>
                </tr>
                <tr>
                    <td class="wf-table-head">
                        <span i18n="workflow.task.TAGS"></span><i>：</i>
                    </td>
                    <td colspan="3">
                        <div id="wf-detail-labelWrapper" class="mr10 fl"></div>
                        <select class="form-control fl mr10" id="labelName">

                        </select>
                        <span id="wf-labelName-error" class="dn" i18n="workflow.task.ADD_TAGS_INFO"></span>
                    </td>
                </tr>
                </tbody>
            </table>
        </div>
    </form>
</script>
<!-- 编辑详情模板结束 -->
<script type="text/html" id="attachment_item_templ">
    <li>
        <div class="files" data-file-uid="<!=file.uid!>" data-file-name="<!=file.name!>">
            <! if (file.userId == AppConfig.userId ) { !>
            <button type="button" title="delete"
                    class="pull-right glyphicon glyphicon-remove wf-attachment-delete"></button>
            <!}!>
            <!if (file.icon == 'icon-file-pic'){!>
            <section class="file-type" style="background:url('<!=file.url!>') center no-repeat;background-size: cover;">
                <a href="<!=file.url!>" class=""
                   style="color: #fff;width: 100%;display: inline-block;" title="Download"></a>
                <!}else{!>
                <section class="file-type <!=file.icon!>">
                    <a href="<!=file.url!>" target="_blank" class="" style="color: #fff;" title="Download"></a>
                    <!}!>
                </section>
                <section class="file-info">
                    <p class="file-name" title="<!=file.name!>"><!=file.name!></p>

                    <p class="file-time"><!=file.time!></p>

                    <p class="filt-user" title="<!=file.userInfo.useremail!>"><!=file.userInfo.userfullname!></p>
                </section>
            </section>
        </div>
    </li>
</script>
<script type="text/html" id="wf_file_list_temp">
    <li class="files-li">
        <div class="files" data-file-id="<!=fileId!>" data-file-uid="<!=fileUid!>" data-file-name="<!=file.name!>">
            <button type="button" class="pull-right glyphicon glyphicon-remove wf-remove-upload-item"
                    data-file-type="remove-upload-item"></button>
            <!if(fileBase64){!>
                <section class="icon file-type" style="background: url(<!=fileBase64!>) center center no-repeat"></section>
            <!}else{!>
                <section class="icon file-type <!=iconClass!>"></section>
            <!}!>
            <section class="file-name file-info">
                <p title="<!=file.name!>" style="line-height: 40px;">
                    <!=file.name!>
                </p>
            </section>
        </div>
    </li>
</script>
<!--@formatter:on-->