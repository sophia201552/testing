<style>
    ul, li {
        list-style: none;
    }

    ul {
        padding-left: 0;
    }

    time {
        margin-right: 12px;
        font-weight: 600;
    }

    .timeLine ul {
        margin-left: 10px;
    }

    .timeLine ul li {
        line-height: 25px;
        margin: 10px 0;
    }

    #workOrderHistory {
        margin-top: 10px;
    }

    #notice_detail .star {
        position: static;
        margin-right: 3px;
    }

    .icCon .glyphicon {
        cursor: pointer;
        margin-right: 3px;
    }

    .info button {
        margin: 5px;
    }

    .edit-no-info {
        height: 45px;
    }

    .edit-info {
        height: 190px;
    }

    .edit-no-num {
        top: 24px;
        left: 0;
        font-weight: normal;
        font-size: 13px;
    }

    .edit-num {
        top: 44px;
        left: 0px;
    }

    #changeDate {
        background: #eee;
        border: 1px solid #ccc;
        cursor: pointer;
        text-indent: 5px;
    }

    #dateIcon {
        cursor: pointer;
    }

    #emergencyLevel {
        cursor: default;
    }

    .task-item[status-id='2'] .status {
        color: #b7d5b3;
    }

    #workInfo .title-editing {
        display: none;
    }

    #workInfo.editing .title-editing {
        display: block;
        width: 97%;
        height: 180px;
        position: absolute;
        top: 0;
    }

    #workInfo.editing .edit-no-info {
        display: none;
    }

    #detail-editor {
        width: 100%;
    }

    #workInfo #detail-editor {
        display: none;
    }

    #workInfo.editing #detail-editor {
        display: block;
    }

    #workInfo.editing .detail {
        display: none;
    }

    .glyphicon-pause {
        color: #b7d5b3;
    }

    .glyphicon-pause + .opteration-msg {
        color: #b7d5b3;
    }

    .title-editing button {
        margin: 5px 0 0 5px;
    }

    .content p {
        margin-left: 200px;
        margin-bottom: 2px;
    }

</style>
<div class="col-xs-12 vertical-roll">
    <div class="col-xs-offset-1 col-xs-10 workflow-container" id="notice_detail">
        <!--确认是否删除浮动窗口开始-->
        <article id="isDelWorkflowWin" class="modal fade">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span
                                aria-hidden="true">&times;</span></button>
                        <h4 class="modal-title"><span i18n="workflow.common.PROMPT"></span>:</h4>
                    </div>
                    <div class="modal-body">
                        <p class="infoPrompt" style="text-align: center;color:red;"><span
                                i18n="workflow.common.DELETE_IT"></span>?</p>
                    </div>
                    <div class="modal-footer">
                        <button id="wfCancel" type="button" class="btn btn-default" data-dismiss="modal"
                                i18n="workflow.common.CANCEL"></button>
                        <button id="wfConfrim" type="button" class="btn btn-primary"
                                i18n="workflow.common.CONFIRM"></button>
                    </div>
                </div>
            </div>
        </article>
        <!--确认是否删除浮动窗口结束-->
        <div class="row nav-row">
            <div class="col-xs-offset-1 col-xs-10 nav-content">
                <div class="row">
                    <div class="back-index-section col-xs-4">
                        <div class="back-section">
                            <a href="#" id="backTo">
                                <span class="glyphicon glyphicon-arrow-left" aria-hidden="true"></span>
                                <span class="backTitle"></span>
                            </a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="row task-item" id="workInfo">
        </div>
        <div id="workOrderHistory" class="row timeLine">
            <div class="col-xs-offset-1 col-xs-10">
                <div class="description-row first-row row-toggle">
                    <span i18n="workflow.notice.WORK_ORDER_HISTORY"></span>
                </div>
                <ul id="workOrderHistoryUl"></ul>
            </div>
        </div>
        <div class="row breakdown-row dn">
            <div class="col-xs-offset-1 col-xs-10">
                <div class="row-toggle">
                    <span i18n="workflow.notice.FAULT_CHART"></span><span
                        class="glyphicon glyphicon-circle-arrow-down row-toggle-icon"></span>
                </div>
                <div class="toggle-enable">
                    <div class="col-xs-12 chart-body">
                        <div class="chart-comment">
                        </div>
                        <div>
                            <div id="error_line" height="500" style="height:500px;"></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="row discussion-row">
            <div class="col-xs-offset-1 col-xs-10">
                <div id="reply-content">

                </div>

                <!--文本编辑器-->
                <div class="reply-editor toggle-enable col-xs-offset-1 col-xs-10">
                    <div class="btn-toolbar" data-role="editor-toolbar" data-target="#editor">
                        <div class="btn-group">
                            <a class="btn btn-default dropdown-toggle" data-toggle="dropdown"
                               data-original-title="Font">
                                <i class="icon-font"></i><b class="caret"></b>
                            </a>
                            <ul class="dropdown-menu">
                                <li><a data-edit="fontName Serif" style="font-family:'Serif';">Serif</a></li>
                                <li><a data-edit="fontName Sans" style="font-family:'Sans';">Sans</a></li>
                                <li><a data-edit="fontName Arial" style="font-family:'Arial';">Arial</a></li>
                                <li><a data-edit="fontName Arial Black" style="font-family:'Arial Black';">Arial
                                    Black</a>
                                </li>
                                <li><a data-edit="fontName Courier" style="font-family:'Courier';">Courier</a></li>
                                <li><a data-edit="fontName Courier New" style="font-family:'Courier New';">Courier
                                    New</a>
                                </li>
                                <li><a data-edit="fontName Comic Sans MS" style="font-family:'Comic Sans MS';">Comic
                                    Sans
                                    MS</a></li>
                                <li><a data-edit="fontName Helvetica" style="font-family:'Helvetica';">Helvetica</a>
                                </li>
                                <li><a data-edit="fontName Impact" style="font-family:'Impact';">Impact</a></li>
                                <li><a data-edit="fontName Lucida Grande" style="font-family:'Lucida Grande';">Lucida
                                    Grande</a></li>
                                <li><a data-edit="fontName Lucida Sans" style="font-family:'Lucida Sans';">Lucida
                                    Sans</a>
                                </li>
                                <li><a data-edit="fontName Tahoma" style="font-family:'Tahoma';">Tahoma</a></li>
                                <li><a data-edit="fontName Times" style="font-family:'Times';">Times</a></li>
                                <li><a data-edit="fontName Times New Roman" style="font-family:'Times New Roman';">Times
                                    New
                                    Roman</a></li>
                                <li><a data-edit="fontName Verdana" style="font-family:'Verdana';">Verdana</a></li>
                            </ul>
                        </div>
                        <div class="btn-group">
                            <a class="btn btn-default dropdown-toggle" data-toggle="dropdown" title=""
                               data-original-title="Font Size"><i class="icon-text-height"></i>&nbsp;<b
                                    class="caret"></b></a>
                            <ul class="dropdown-menu">
                                <li><a data-edit="fontSize 5"><font size="5">Huge</font></a></li>
                                <li><a data-edit="fontSize 3"><font size="3">Normal</font></a></li>
                                <li><a data-edit="fontSize 1"><font size="1">Small</font></a></li>
                            </ul>
                        </div>
                        <div class="btn-group">
                            <a class="btn btn-default" data-edit="bold" title=""
                               data-original-title="Bold (Ctrl/Cmd+B)"><i
                                    class="icon-bold"></i></a>
                            <a class="btn btn-default" data-edit="italic" title=""
                               data-original-title="Italic (Ctrl/Cmd+I)"><i
                                    class="icon-italic"></i></a>
                            <a class="btn btn-default" data-edit="strikethrough" title=""
                               data-original-title="Strikethrough"><i
                                    class="icon-strikethrough"></i></a>
                            <a class="btn btn-default" data-edit="underline" title=""
                               data-original-title="Underline (Ctrl/Cmd+U)"><i
                                    class="icon-underline"></i></a>
                        </div>
                        <div class="btn-group">
                            <a class="btn btn-default" data-edit="insertunorderedlist" title=""
                               data-original-title="Bullet list"><i
                                    class="icon-list-ul"></i></a>
                            <a class="btn btn-default" data-edit="insertorderedlist" title=""
                               data-original-title="Number list"><i
                                    class="icon-list-ol"></i></a>
                            <a class="btn btn-default" data-edit="outdent" title=""
                               data-original-title="Reduce indent (Shift+Tab)"><i
                                    class="icon-indent-left"></i></a>
                            <a class="btn btn-default" data-edit="indent" title="" data-original-title="Indent (Tab)"><i
                                    class="icon-indent-right"></i></a>
                        </div>
                        <div class="btn-group">
                            <a class="btn btn-default btn-info" data-edit="justifyleft" title=""
                               data-original-title="Align Left (Ctrl/Cmd+L)"><i
                                    class="icon-align-left"></i></a>
                            <a class="btn btn-default" data-edit="justifycenter" title=""
                               data-original-title="Center (Ctrl/Cmd+E)"><i
                                    class="icon-align-center"></i></a>
                            <a class="btn btn-default" data-edit="justifyright" title=""
                               data-original-title="Align Right (Ctrl/Cmd+R)"><i
                                    class="icon-align-right"></i></a>
                            <a class="btn btn-default" data-edit="justifyfull" title=""
                               data-original-title="Justify (Ctrl/Cmd+J)"><i class="icon-align-justify"></i></a>
                        </div>
                        <div class="btn-group">
                            <a class="btn btn-default" title="" id="pictureBtn"
                               data-original-title="Insert picture (or just drag &amp; drop)"><i
                                    class="icon-picture"></i>
                                <input type="file" data-role="magic-overlay" data-target="#pictureBtn"
                                       data-edit="insertImage"
                                       style="opacity: 0; position: absolute; top: 0px; left: 0px; width: 41px; height: 30px;">
                            </a>

                        </div>
                        <div class="btn-group">
                            <a class="btn btn-default" data-edit="undo" title=""
                               data-original-title="Undo (Ctrl/Cmd+Z)"><i
                                    class="icon-undo"></i></a>
                            <a class="btn btn-default" data-edit="redo" title=""
                               data-original-title="Redo (Ctrl/Cmd+Y)"><i
                                    class="icon-repeat"></i></a>
                        </div>
                        <input type="text" data-edit="inserttext" id="voiceBtn" x-webkit-speech=""
                               style="display: none;">
                    </div>
                    <div id="editor">
                    </div>
                    <div class="reply-bottom-section">
                        <div class="buttons">
                            <button class="btn btn-success btn-reply"><span i18n="workflow.notice.COMMENTS"></span>
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!--确认窗口开始-->
<article id="deassignWin" class="modal fade">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span
                        aria-hidden="true">&times;</span></button>
                <h4 class="modal-title"><span i18n="workflow.common.CONFIRM"></span>:</h4>
            </div>
            <div class="modal-body">
                <p id="deassignWinInfo" style="text-align: center;color:red;"></p>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</article>
<!--确认窗口结束-->

<script type="text/html" id="workOrderHistoryUlTmpl">
    <!for(var i=0;i < operations.length; i++){!>
    <!var operation = operations[i]; !>
    <li>
        <span class="glyphicon glyphicon-record mr10"></span>
        <time><!=operation.opTime!></time>
        <img src="<!=operation.userpic!>" style="width: 25px;"/>
        <span><!=operation.userfullname!></span>
        <span class="content"><!=WorkflowTool.translate(operation.op)!></span>
        <!if(operation.op==='edit'){!>
        <span class="content"><!=WorkflowTool.translate(operation.detail)!></span>
        <!}!>
    </li>
    <!}!>
</script>

<script type="text/html" id="replyContentTmpl">
    <div class="row-toggle">
        <span i18n="workflow.notice.TOPIC"></span>
        <span class="glyphicon glyphicon-circle-arrow-down row-toggle-icon"></span>
    </div>
    <div class="discussion-content toggle-enable">
        <!for(var n=0; n < replyList.length; n++){!>
        <!var reply = replyList[n]; !>
        <div class="media discussion-media clearfix">
            <div class="media-left col-xs-1 tc">
                <img class="avatar-icon" src="<!=reply.userpic!>">

                <div class="avatar-name"><!=reply.userfullname!></div>
            </div>
            <div class="media-body col-xs-10">
                <div class="col-xs-9 item-text-color">
                    <span i18n="workflow.notice.REPLAY_ORDER"></span>：
                    <div class="latest-info-description"><!=reply.detail!></div>
                </div>
                <div class="col-xs-3 reply-date item-text-color"><!=reply.replyTime!></div>
            </div>
        </div>
        <!}!>
    </div>
</script>

<script type="text/html" id="recordDetailTmpl">
    <div class="row task-item" id="workInfo" taskId="<!=record_detail.id!>" groupId="<!=record_detail.groupid!>">
        <div class="col-xs-offset-1 col-xs-10">
            <div class="description-section">
                <div class="description-row first-row">
                    <span i18n="workflow.notice.ORDER"></span>：<span
                        class="notice"><!=record_detail.groupName!></span>
                </div>
                <div class="description-row second-row clearfix">
                    <div class="msg col-xs-9">
                        <div class="content col-xs-8 task-title">
                            <div class="info edit-no-info ellipsis" title="<!=record_detail.title!>">
                                <!=record_detail.title!>
                            </div>
                            <div class="title-editing">
                                <input type="text" id="title-editor" class="form-control"
                                       value="<!=record_detail.title!>"/>

                                <button type="button" class="pull-right btn btn-success edit-btn edit-btn-save"
                                        i18n="workflow.main.SAVE">
                                </button>
                                <button type="button" class="pull-right btn btn-default edit-btn edit-btn-cancel"
                                        i18n="workflow.main.CANCEL">
                                </button>
                                <button type="button" class="pull-right btn btn-danger edit-btn edit-btn-delete"
                                        i18n="workflow.main.DELETE">
                                </button>
                                <div class="pull-right">
                                    <select id="assignSelect" class="pull-right pa form-control"
                                            style="width:174px;top:77px;right:0;">
                                    </select>
                                    <select id="criticalSelect" class="pull-right pa form-control"
                                            style="width:174px;top:114px;right:0;">
                                        <option disabled value="-1" i18n="workflow.urgencyLevel.URGENCY_LEVEL"></option>
                                        <!for(var critical in criticalMap){!>
                                        <!if(critical == record_detail.critical){!>
                                        <option value="<!=critical!>" selected><!=criticalMap[critical]!></option>
                                        <!}else{!>
                                        <option value="<!=critical!>"><!=criticalMap[critical]!></option>
                                        <!}!>
                                        <!}!>
                                    </select>
                                    <input id="changeDate" class="pull-right pa form-control"
                                           value="<!=record_detail.due_date!>"
                                           style="width:174px;top:151px;right:0;">
                                    <span
                                            id="dateIcon"
                                            class="glyphicon glyphicon-calendar pa"
                                            style="width:174px;top:160px;right:-188px;"></span>
                                </div>

                            </div>
                            <div class="pa edit-no-num infoNo">
                                <span i18n="workflow.common.NUMBER"></span>：<span
                                    class="no"><!=record_detail.id!></span>
                                <!if(record_detail.creator){!>
                                <span i18n="workflow.notice.Creator"></span>：<span
                                    class="no"><!=record_detail.creator!></span>
                                <!}!>
                            </div>
                        </div>
                        <!if(isEditable){!>
                        <div class="col-xs-4 icCon task-body" id="taskStatus"></div>
                        <!}!>
                    </div>
                    <div class="col-xs-2 text item-text-color due-date" id="notDetDeadline"
                         i18n="title=workflow.common.DEADLINE">
                        <!=record_detail.due_date!>
                    </div>
                </div>
                <div id="descriptionInfo" class="description-row third-row clearfix">
                    <pre class="detail"><!=record_detail.detail!></pre>
                    <textarea id="detail-editor" class="form-control"><!=record_detail.detail!></textarea>
                </div>
            </div>
        </div>
    </div>
</script>

<script type="text/html" id="taskStatusTmpl">
    <div class="col-xs-4 icCon task-body" id="taskStatus">
        <span class="glyphicon ic<!=critical!>" i18n="title=workflow.urgencyLevel.<!=critical!>"></span>
        <!if(star){!>
        <span class="star icon-star" i18n="title=workflow.mine.CANCEL_STARRED"></span>
        <!}else{!>
        <span class="star icon-star-empty" i18n="title=workflow.mine.STARRED"></span>
        <!}!>
        <!if(statusId == 0){!>
            <span id="workflow-finish"
                  class="glyphicon glyphicon-ok-sign"
                  i18n="title=workflow.main.FINISH"></span>
            <span id="workflow-editContent" class="glyphicon glyphicon-edit"
                  i18n="title=workflow.main.EDIT"></span>
        <span id="workflow-play-pause" class="glyphicon glyphicon-play" i18n="title=workflow.main.START"></span>
        <span class="opteration-msg" i18n="workflow.main.NEW"></span>
        <!}else if(statusId == 2){!>
            <span id="workflow-finish"
                  class="glyphicon glyphicon-ok-sign"
                  i18n="title=workflow.main.FINISH"></span>
            <span id="workflow-editContent" class="glyphicon glyphicon-edit"
                  i18n="title=workflow.main.EDIT"></span>
        <span id="workflow-play-pause" class="glyphicon glyphicon-pause" i18n="title=workflow.main.PAUSE"></span>
        <span class="opteration-msg" i18n="workflow.main.DEALING"></span>
        <!}else if(statusId == 3){!>
            <span id="workflow-finish"
                  class="glyphicon glyphicon-ok-sign"
                  i18n="title=workflow.main.FINISH"></span>
            <span id="workflow-editContent" class="glyphicon glyphicon-edit"
                  i18n="title=workflow.main.EDIT"></span>
            <span id="workflow-play-pause" class="glyphicon glyphicon-play"
                  i18n="title=workflow.main.START"></span>
        <span class="opteration-msg" i18n="workflow.main.PAUSED"></span>
        <!}else if(statusId == 4){!>
        <span id="workflow-repeat" class="glyphicon glyphicon-repeat" i18n="title=workflow.main.RESTART"></span>
        <span class="opteration-msg" i18n="workflow.main.FINISHED"></span>
        <!}!>
    </div>
</script>