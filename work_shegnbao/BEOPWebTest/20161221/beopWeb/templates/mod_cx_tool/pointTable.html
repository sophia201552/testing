{% block content %}

    <!--确认是否删除点浮动窗口开始-->
    <article id="isDelPointWin" class="modal fade confirmWin">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span
                            aria-hidden="true">&times;</span></button>
                    <h4 class="modal-title"><span i18n="common.PROMPT"></span>：</h4>
                </div>
                <div class="modal-body">
                    <p class="infoPrompt"><span i18n="debugTools.sitePoint.IS_DELETE_POINTS"></span>：</p>

                    <p class="delete-points points-wrapper"></p>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-default" data-dismiss="modal" i18n="common.CANCEL"></button>
                    <button id="deleteRowConfirm" type="button" class="btn btn-primary" i18n="common.CONFIRM"></button>
                </div>
            </div>
        </div>
    </article>
    <!--确认是否删除点浮动窗口结束-->
    <!--确认是否下装点浮动窗口开始-->
    <article id="isUpdatePointWin" class="modal fade confirmWin">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span
                            aria-hidden="true">&times;</span></button>
                    <h4 class="modal-title"><span i18n="common.PROMPT"></span><span>：</span></h4>
                </div>
                <div class="modal-body">
                    <p class="infoPrompt"><span i18n="debugTools.sitePoint.IS_POINTS_BOTTOMS"></span>：</p>

                    <p class="update-points points-wrapper"></p>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-default" data-dismiss="modal" i18n="common.CANCEL"></button>
                    <button id="updateRowConfirm" type="button" class="btn btn-primary" i18n="common.CONFIRM"></button>
                </div>
            </div>
        </div>
    </article>
    <!--确认是否下装点浮动窗口结束-->
    <!--编辑点浮动窗口开始-->
    <article id="editPointWin" class="modal fade confirmWin">
        <div class="modal-dialog">
            <div class="modal-content">
                <form id="pointForm">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span
                                aria-hidden="true">&times;</span></button>
                        <h4 id="editTitle" class="modal-title" i18n="debugTools.sitePoint.EDIT_POINTS"></h4>
                    </div>
                    <div class="modal-body oh">
                        <section id="pointInfoUpWrapper" class="oh">
                            <section class="fl mr25" id="pointBasicWrapper">
                                <input type="hidden" id="point_id" class="form-control" name="id"/>

                                <p>
                                    <span class="basicParameterName"><span
                                            i18n="debugTools.sitePoint.VARIABLE_ID"></span>：</span>
                                    <input type="text" id="point_name" class="form-control" name="value" value=""
                                           required/>
                                </p>

                                <p>
                                    <span class="basicParameterName"><span
                                            i18n="debugTools.sitePoint.POINT_SOURCE_TYPE;title=debugTools.sitePoint.POINT_SOURCE_TYPE"></span>：</span>
                                    <select id="point_source" class="form-control" name="source" required>
                                    </select>
                                </p>

                                <p>
                                    <span class="basicParameterName"><span
                                            i18n="debugTools.sitePoint.NOTE;title=debugTools.sitePoint.NOTE"></span>：</span>
                                    <input type="text" id="point_notes" class="form-control" name="remark" value=""/>
                                </p>

                                <p>
                                    <span class="basicParameterName"><span
                                            i18n="debugTools.sitePoint.UNIT"></span>：</span>
                                    <select id="point_unit" class="form-control" name="Unit">
                                        <option value=""></option>
                                        <option value="0">%</option>
                                        <option value="1">kPa</option>
                                        <option value="2">℃</option>
                                        <option value="3">h</option>
                                        <option value="4">Hz</option>
                                        <option value="5">V</option>
                                        <option value="6">Kw</option>
                                        <option value="7">ls</option>
                                        <option value="8">KWh</option>
                                        <option value="9">m3/h</option>
                                    </select>
                                </p>
                                <p>
                                    <span class="basicParameterName"><span
                                            i18n="debugTools.sitePoint.R_W_PROPERTY;title=debugTools.sitePoint.R_W_PROPERTY"></span>：</span>
                                    <select id="point_rw_attr" class="form-control" name="RWProperty">
                                        <option value=""></option>
                                        <option value="0" i18n="debugTools.sitePoint.R_W_PROPERTY1"></option>
                                        <option value="1" i18n="debugTools.sitePoint.R_W_PROPERTY2"></option>
                                    </select>
                                </p>
                            </section>
                            <section class="fl mr25" id="pointFixedWrapper">
                                <section>
                                    <div class="mb15 w200">
                                        <div i18n="debugTools.sitePoint.MAX"></div>
                                        <select class="point_bind_set form-control"
                                                data-placeholder="Choose a option"></select>
                                    </div>
                                    <div class="mb15 w200">
                                        <div i18n="debugTools.sitePoint.MIN"></div>
                                        <select class="point_bind_set form-control"
                                                data-placeholder="Choose a option"></select>
                                    </div>
                                    <div class="mb15 oh">
                                        <input id="point_jurisdiction" type="checkbox" name="param14" class="mr5"
                                               value=""/>
                                        <span i18n="debugTools.sitePoint.THIRD_PARTY_ACCESS"></span>
                                    </div>
                                    <div class="mb15 oh">
                                        <div i18n="debugTools.sitePoint.MEMORY_CYCLE"></div>
                                        <div>
                                            <select id="point_storage_period" name="storecycle"
                                                    class="form-control">
                                                <option value="-1" disabled="disabled"
                                                        i18n="debugTools.sitePoint.SELECT_STORAGE_PERIOD"></option>
                                                <option value="1" i18n="debugTools.sitePoint.MEMORY_CYCLE1"></option>
                                                <option value="2" i18n="debugTools.sitePoint.MEMORY_CYCLE2"></option>
                                                <option value="3" i18n="debugTools.sitePoint.MEMORY_CYCLE3"></option>
                                                <option value="4" i18n="debugTools.sitePoint.MEMORY_CYCLE4"></option>
                                                <option value="5" i18n="debugTools.sitePoint.MEMORY_CYCLE5"></option>
                                                <option value="6" i18n="debugTools.sitePoint.MEMORY_CYCLE6"></option>
                                                <option value="7" i18n="debugTools.sitePoint.MEMORY_CYCLE7"></option>
                                                <option value="8" i18n="debugTools.sitePoint.MEMORY_CYCLE8"></option>
                                                <option value="9" i18n="debugTools.sitePoint.MEMORY_CYCLE9"></option>
                                                <option value="10" i18n="debugTools.sitePoint.MEMORY_CYCLE10"></option>
                                            </select>
                                        </div>
                                    </div>
                                </section>
                            </section>
                            <section class="fl" id="pointOtherWrapper">
                                <section class="fl">
                                    <div class="mb15 oh">
                                        <div i18n="debugTools.sitePoint.CUSTOM"></div>
                                        <input id="point_custom" type="text" value="" class="form-control"
                                               name="customName">
                                    </div>
                                    <div class="mb15 oh">
                                        <div i18n="debugTools.sitePoint.SYSTEM"></div>
                                        <select id="point_system" name="system" class="form-control">
                                            <option value="-1" disabled="disabled"
                                                    i18n="debugTools.sitePoint.CHOOSE_SYSTEM"></option>
                                            <option value="0" i18n="debugTools.sitePoint.SYSTEM0"></option>
                                            <option value="1" i18n="debugTools.sitePoint.SYSTEM1"></option>
                                            <option value="2" i18n="debugTools.sitePoint.SYSTEM2"></option>
                                            <option value="3" i18n="debugTools.sitePoint.SYSTEM3"></option>
                                            <option value="4" i18n="debugTools.sitePoint.SYSTEM4"></option>
                                        </select>
                                    </div>
                                    <div class="mb15 oh">
                                        <div i18n="debugTools.sitePoint.EQUIPMENT"></div>
                                        <select id="point_equipment" name="device" class="form-control">
                                            <option value="-1" disabled="disabled"
                                                    i18n="debugTools.sitePoint.PLEASE_SELECT_EQUIPMENT"></option>
                                            <option value="0" i18n="debugTools.sitePoint.EQUIPMENT0"></option>
                                            <option value="1" i18n="debugTools.sitePoint.EQUIPMENT1"></option>
                                            <option value="2" i18n="debugTools.sitePoint.EQUIPMENT2"></option>
                                            <option value="3" i18n="debugTools.sitePoint.EQUIPMENT3"></option>
                                            <option value="4" i18n="debugTools.sitePoint.EQUIPMENT4"></option>
                                            <option value="5" i18n="debugTools.sitePoint.EQUIPMENT5"></option>
                                            <option value="6" i18n="debugTools.sitePoint.EQUIPMENT6"></option>
                                        </select>
                                    </div>
                                    <div class="mb15 oh">
                                        <div i18n="debugTools.sitePoint.TYPES"></div>
                                        <select id="point_type" name="type" class="form-control">
                                            <option value="-1" disabled="disabled"
                                                    i18n="debugTools.sitePoint.PLEASE_SELECT_TYPE"></option>
                                            <option value="0" i18n="debugTools.sitePoint.TYPES0"></option>
                                            <option value="1" i18n="debugTools.sitePoint.TYPES1"></option>
                                            <option value="2" i18n="debugTools.sitePoint.TYPES2"></option>
                                            <option value="3" i18n="debugTools.sitePoint.TYPES3"></option>
                                            <option value="4" i18n="debugTools.sitePoint.TYPES4"></option>
                                            <option value="5" i18n="debugTools.sitePoint.TYPES5"></option>
                                            <option value="6" i18n="debugTools.sitePoint.TYPES6"></option>
                                            <option value="7" i18n="debugTools.sitePoint.TYPES7"></option>
                                            <option value="8" i18n="debugTools.sitePoint.TYPES8"></option>
                                            <option value="9" i18n="debugTools.sitePoint.TYPES9"></option>
                                            <option value="10" i18n="debugTools.sitePoint.TYPES10"></option>
                                        </select>
                                    </div>
                                </section>
                            </section>
                        </section>
                        <section id="pointInfoDownWrapper" class="oh">
                            <section class="pr10" id="pointRelatedWrapper"></section>
                        </section>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-default" data-dismiss="modal"
                                i18n="common.CANCEL"></button>
                        <button type="submit" id="editPointConfirm" class="btn btn-primary"
                                i18n="common.CONFIRM"></button>
                    </div>
                </form>
            </div>
        </div>
    </article>
    <!--编辑点浮动窗口结束-->

    <!--点来源配置浮动窗口开始-->
    <article id="pointSetWin" class="modal fade confirmWin">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span
                            aria-hidden="true">&times;</span></button>
                    <h4 class="modal-title"><span
                            i18n="debugTools.sitePoint.POINT_SOURCE_CONFIGURATION"></span><span>：</span></h4>
                </div>
                <div id="point_setting" class="pr point_setting">
                    <div id="point_set_btn_wrapper" class="oh">
                        <nav class="oh mt30">
                            <ul id="standardNameTab" class="nav nav-tabs">
                                <li role="presentation" class="active"><a href="#point_set_new_form"
                                                                          data-toggle='tab'>new</a></li>
                                <li role="presentation"><a href="#point_set_edit_form" data-toggle='tab'>edit</a></li>
                            </ul>
                        </nav>
                    </div>
                    <div class="mt30 tab-content">
                        <form class="add-source-form tab-pane active" id="point_set_new_form">
                            <div id="point_set_add_Wrapper">
                                <section id="point_setting_up_wrapper" class="mb15">
                                    <span class="point_set_title"><span
                                            i18n="debugTools.sitePoint.ENTER_TYPE_NAME"></span>：</span>
                                    <input type="text" class="form-control" value="" name="name" required
                                           i18n="placeholder=debugTools.sitePoint.ENTER_TYPE_NAME"/>
                                </section>
                                <section id="point_setting_down_wrapper">
                                            <span class="point_set_title"><span
                                                    i18n="debugTools.sitePoint.ENTER_TYPE_PARAMETER"></span>：</span>
                                    <ul id="point_setting_down_ul" class="oh">
                                        <li>
                                            <span class="title">param1:</span>
                                            <input type="text" class="form-control" value="" name="param1"
                                                   i18n="placeholder=debugTools.sitePoint.ENTER_TYPE_PARAMETER"/>
                                        </li>
                                        <li>
                                            <span class="title">param2:</span>
                                            <input type="text" class="form-control" value="" name="param2"
                                                   i18n="placeholder=debugTools.sitePoint.ENTER_TYPE_PARAMETER"/>
                                        </li>
                                        <li>
                                            <span class="title">param3:</span>
                                            <input type="text" class="form-control" value="" name="param3"
                                                   i18n="placeholder=debugTools.sitePoint.ENTER_TYPE_PARAMETER"/>
                                        </li>
                                        <li>
                                            <span class="title">param4:</span>
                                            <input type="text" class="form-control" value="" name="param4"
                                                   i18n="placeholder=debugTools.sitePoint.ENTER_TYPE_PARAMETER"/>
                                        </li>
                                        <li>
                                            <span class="title">param5:</span>
                                            <input type="text" class="form-control" value="" name="param5"
                                                   i18n="placeholder=debugTools.sitePoint.ENTER_TYPE_PARAMETER"/>
                                        </li>
                                        <li>
                                            <span class="title">param6:</span>
                                            <input type="text" class="form-control" value="" name="param7"
                                                   i18n="placeholder=debugTools.sitePoint.ENTER_TYPE_PARAMETER"/>
                                        </li>
                                        <li>
                                            <span class="title">param7:</span>
                                            <input type="text" class="form-control" value="" name="param7"
                                                   i18n="placeholder=debugTools.sitePoint.ENTER_TYPE_PARAMETER"/>
                                        </li>
                                        <li>
                                            <span class="title">param8:</span>
                                            <input type="text" class="form-control" value="" name="param8"
                                                   i18n="placeholder=debugTools.sitePoint.ENTER_TYPE_PARAMETER"/>
                                        </li>
                                        <li>
                                            <span class="title">param9:</span>
                                            <input type="text" class="form-control" value="" name="param9"
                                                   i18n="placeholder=debugTools.sitePoint.ENTER_TYPE_PARAMETER"/>
                                        </li>
                                        <li>
                                            <span class="title">param10:</span>
                                            <input type="text" class="form-control" value="" name="param10"
                                                   i18n="placeholder=debugTools.sitePoint.ENTER_TYPE_PARAMETER"/>
                                        </li>
                                    </ul>
                                </section>
                                <div class="oh">
                                    <button type="button" id="inputPointNameSubmit" class="btn btn-primary fr mr10"
                                            i18n="common.SUBMIT"></button>
                                </div>
                            </div>
                        </form>
                        <form class="update-source-form tab-pane" id="point_set_edit_form">
                            <div id="point_set_edit_Wrapper">
                                <div id="point_set_source_wrapper">
                                            <span class="point_set_title"><span
                                                    i18n="debugTools.sitePoint.POINT_SOURCE_TYPE"></span>：</span>
                                    <select id="point_set_source" class="form-control w180" name="name">

                                    </select>
                                </div>
                                <section id="point_set_edit_name_param">
                                            <span class="point_set_title dn"><span
                                                    i18n="debugTools.sitePoint.EDIT_TYPE_PARAMETER"></span>：</span>
                                    <ul id="point_setting_edit_ul" class="oh"></ul>
                                </section>
                                <div class="oh">
                                    <button type="button" id="editPointNameSubmit" class="btn btn-primary fr ml10 mr10"
                                            i18n="common.SUBMIT"></button>
                                    <button type="button" class="btn btn-danger fr" id="del-point-type"
                                            i18n="common.DELETE"></button>
                                </div>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </article>
    <!--点来源配置浮动窗口结束-->
    <div id="buttonGroup" class="oh">
        <div class="fl">
            <select id="select_project" class="form-control" name="select_project">
                <option disabled selected i18n="debugTools.sitePoint.PLEASE_SELECT_PROJECT"></option>
            </select>
            <script>
                var projects = {{ projects|safe }};
                var optionHtml = '';
                for (var i = 0; i < projects.length; i++) {
                    var name, project = projects[i];
                    if (localStorage.language == 'en') {
                        name = project.name_en;
                    } else {
                        name = project.name_cn;
                    }
                    optionHtml += '<option value="' + project.id + '">' + name + '</option>';
                }
                $('#select_project').append(optionHtml);
            </script>
        </div>
    </div>
    <div class="btn-group btn-group-sm btnGroup" role="group">
        <button id="point_set" type="button" class="btn btn-default">
            <span class="glyphicon glyphicon-cog db" aria-hidden="true"></span>
            <span i18n="debugTools.btnNav.POINT_SOURCE"></span>
        </button>
    </div>
    <div class="btn-group btn-group-sm btnGroup" role="group">
        <button id="point_edit" type="button" class="btn btn-default">
            <span class="glyphicon glyphicon-edit db" aria-hidden="true"></span>
            <span i18n="debugTools.btnNav.EDIT_POINT"></span>
        </button>
        <button id="point_add" type="button" class="btn btn-default">
            <span class="glyphicon glyphicon-plus db" aria-hidden="true"></span>
            <span i18n="debugTools.btnNav.ADD_POINT"></span>
        </button>
        <button id="point_delete" type="button" class="btn btn-default">
            <span class="glyphicon glyphicon-remove db" aria-hidden="true"></span>
            <span i18n="debugTools.btnNav.DELETE_POINT"></span>
        </button>

        <button id="point_clear" type="button" class="btn btn-default">
            <span class="glyphicon glyphicon-trash db" aria-hidden="true"></span>
            <span i18n="debugTools.btnNav.CLEAR_POINT"></span>
        </button>

    </div>
    <div class="btn-group btn-group-sm btnGroup" role="group">
        <button type="button" class="btn btn-default">
            <a id="point_template_export" target="_blank" style="color: #333;"
               href="/static/app/CxTool/templates/engine point list.xlsx">
                <span class="glyphicon glyphicon-export db" aria-hidden="true"></span>
                <span i18n="debugTools.btnNav.EXPORT_POINT_TEMPLATE_LIST"></span>
            </a>
        </button>
        <button id="point_import" type="button" class="btn btn-default">
            <span class="glyphicon glyphicon-import db" aria-hidden="true"></span>
            <span i18n="debugTools.btnNav.IMPORT_POINT_LIST"></span>
            <input type="file" id="uploadInput"
                   accept=".csv, application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/vnd.ms-excel">
        </button>
        <button type="button" class="btn btn-default">
            <a id="point_export" target="_blank" style="color: #333;">
                <span class="glyphicon glyphicon-export db" aria-hidden="true"></span>
                <span i18n="debugTools.btnNav.EXPORT_POINT_LIST"></span>
            </a>
        </button>
    </div>
    <div class="btn-group btn-group-sm dtu-btn-group btnGroup" role="group">
        <button id="point_update_all" type="button" class="btn btn-default">
            <span class="glyphicon glyphicon-refresh db" aria-hidden="true"></span>
            <span i18n="debugTools.btnNav.DOWNLOAD_ALL_POINTS"></span>
        </button>
        <button id="point_update_partial" type="button" class="btn btn-default">
            <span class="glyphicon glyphicon-refresh db" aria-hidden="true"></span>
            <span i18n="debugTools.btnNav.DOWNLOAD_POINT"></span>
        </button>
        <button id="point_delete_partial" type="button" class="btn btn-default">
            <span class="glyphicon glyphicon-refresh db" aria-hidden="true"></span>
            <span i18n="debugTools.btnNav.DELETE_SOME_POINTS"></span>
        </button>
        <button id="syn_point_list" type="button" class="btn btn-default">
            <span class="glyphicon glyphicon-refresh db" aria-hidden="true"></span>
            <span i18n="debugTools.btnNav.SYN_POINT_LIST"></span>
        </button>
    </div>
    <div class="btn-group btn-group-sm btnGroup" role="group">
        <button id="point_undo" type="button" class="btn btn-default">
            <span class="glyphicon glyphicon-arrow-left db" aria-hidden="true"></span>
            <span i18n="debugTools.btnNav.UNDO"></span>
        </button>
        <button id="point_redo" type="button" class="btn btn-default">
            <span class="glyphicon glyphicon-arrow-right db" aria-hidden="true"></span>
            <span i18n="debugTools.btnNav.REDO"></span>
        </button>
    </div>
    <div id="pointManageWrapper">
        <div id="point_table_info">
            <input type="text" id="text_search" class="form-control mr10" value="" placeholder=""
                   i18n="placeholder=debugTools.sitePoint.SEARCH"/>

            <p class="fl mt5"><span i18n="debugTools.sitePoint.ALTOGETHER"></span><span
                    class="count"></span><span
                    i18n="debugTools.sitePoint.POINTS"></span></p>
        </div>
        <div class="sheet"></div>
        <div class="tr" id="paginationWrapper">
            <ul id="pointPagination" class="pagination"></ul>
        </div>
    </div>
    <script type="text/html" id="tpl_source_type_options_table">
        <option value="-1" disabled="disabled" i18n="debugTools.sitePoint.SELECT_POINT_SOURCE"></option>
        <!for(var sourceName in sourceTypes){!>
        <option value="<!=sourceName!>"><!=sourceName!></option>
        <!}!>
    </script>
    <script type="text/html" id="tpl_source_type_name">
        <!for(var i=0; i < 10; i++){!>
        <!var name = typeData["param" + (i + 1)] ? typeData["param" + (i + 1)] : I18n.resource.debugTools.sitePoint.SUBSCRIPTION_PARAMETERS + (i + 1);!>
        <div class="reserveParamWrapper">
            <div class="w150 ellipsis m_auto" title="<!=name!>"><!=name!></div>
            <input type="text" value="" class="form-control m_auto reserveParamObj" name="param<!=(i + 1)!>"/>
        </div>
        <!}!>
    </script>
    <script type="text/html" id="tpl_point_list">
        <table class="table table-striped">
            <thead>
            <tr>
                <th></th>
                <th></th>
                <th></th>
            </tr>
            </thead>
            <tbody>
            <!for(var m=0; m < list.length; m++){!>
            <!var data=list[m].data;!>
            <tr>
                <th scope="row"><!=m+1!></th>
                <td><!=data.value!></td>
                <td><!=data.params.source!></td>
            </tr>
            <!}!>
            </tbody>
        </table>
    </script>

    <script type="text/html" id="tpl_source_type_options">
        <option value="-1" disabled="disabled" i18n="debugTools.sitePoint.SELECT_POINT_SOURCE"></option>
        <!for(var sourceName in sourceTypes){!>
        <option value="<!=sourceName!>"><!=sourceName!></option>
        <!}!>
    </script>

    <script type="text/html" id="tpl_source_type_values">
        <!for(var m = 0; m < params.length; m++){!>
        <li>
            <span class="title"><!=params[m].name!></span>
            <input type="text" i18n="placeholder=debugTools.sitePoint.ENTER_TYPE_PARAMETER" value="<!=params[m].value!>"
                   class="form-control"
                   name="<!=params[m].name!>">
        </li>
        <!}!>
    </script>
{% endblock %}