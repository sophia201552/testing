<!DOCTYPE html>
<html>

<head lang="en">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Contact Us - BeOP</title>
    <link href="/static/scripts/lib/bootstrap/css/bootstrap.min.css" rel="stylesheet" />
    <script type="text/javascript" src="/static/scripts/lib/jquery-2.1.4.min.js"></script>
    <style type="text/css">
        html,
        body,
        #contactUs {
            width: 100%;
            height: 100%;
            background-color: #1c2532;
        }

        input::-webkit-input-placeholder,
        textarea::-webkit-input-placeholder {
            color: #88a5cb;
        }

        input:-moz-placeholder,
        textarea:-moz-placeholder {
            color: #88a5cb;
        }

        input::-moz-placeholder,
        textarea::-moz-placeholder {
            color: #88a5cb;
        }

        input::-ms-input-placeholder,
        textarea::-ms-input-placeholder {
            color: #88a5cb;
        }

        .contactForm {
            height: 100%;
            opacity: 0.9;
            border-radius: 6px;
            background-color: #1c2532;
            padding: 1rem 1rem;
        }



        .input {
            -webkit-transition: 0.5s ease all;
            transition: 0.5s ease all;
            background-color: transparent;
            -webkit-appearance: none;
            -moz-appearance: none;
            -webkit-appearance: none;
            border-radius: 0;
            margin: 0 0 5px;
            padding: 5px;
            font-size: 1.5rem;
            text-align: left;
            color: #88a5cb;
            border: none;
            border-bottom: 1px solid #88a5cb;
            outline: none;
            line-height: 2rem;
        }

        .input:focus {
            color: #6fb7ff;
            border-bottom: 1px solid #6fb7ff;
        }

        .inputName {
            width: 100%;
        }

        .inputEmail {
            width: 100%;
        }

        .inputPhone {
            width: 100%;
        }

        .contactForm .row {
            margin: 1rem 0 1rem 0;
            padding: 0;
        }

        .inputMessage {
            width: 100%;
        }

        textarea {
            resize: none;
        }

        .btnSendForm {
            border-radius: 4px;
            background-color: #6fb7ff;
            font-size: 18px;
            font-weight: 600;
            text-align: left;
            color: #ffffff;
            width: 15rem;
            line-height: 4.8rem;
            height: 4.8rem;
            text-align: center;
            letter-spacing: 0.2rem;
            margin-top: 45px;
        }

        .label_color {
            color: #88a5cb;
            font-size: 1.5rem;
            text-indent: 5px;
        }

        #paneForm {
            height: 100%;
        }

        .label-style {
            display: block;
            color: #88a5cb;
            font-size: 1.5rem;
            text-indent: 5px;
        }

        @media ( min-width: 1360px) {

            .contactForm {
                padding: 5% 10%;
            }
            textarea {
                height: 6rem;
            }
        }

        @media ( max-width: 1360px) {

            .contactForm {
                padding: 5% 10%;
            }
            textarea {
                height: 6rem;
            }
        }

        @media ( max-width: 760px) {

            .contactForm {
                padding: 1rem 10%;
            }
            textarea {
                height: 4rem;
            }
            .btnSendForm {
                width: 11rem;
                line-height: 3.8rem;
                height: 3.8rem;
                bottom: 1.5rem;
                margin-top: 25px;
            }
            .input {
                line-height: 1.5rem;
            }
        }

        .aDownload {
            padding: 10px 30px 10px 30px;
            background-color: #337ab7;
            font-size: 20px;
            border-radius: 4px;
            color: #fff;
        }

        #contactUs .contactBox {
            float: none;
            margin: 0 auto;
            text-align: center;
            padding-bottom: 15px;
        }

        .col {
            width: 40%;
        }

        .checkBoxCon {
            color: #88a5cb;
        }
    </style>
</head>

<body>
    <div id="contactUs" class="clearfix">
        <div id="paneForm" class="col-lg-12 col-md-12 col-sm-12">
            <div class="contactForm">
                <form>
                    <div class="row">
                        <label for="nameInput" class="label-style" i18n="NAME"></label>
                        <input type="text" id="nameInput" class="inputName input" value="">
                    </div>
                    <div class="row">
                        <label for="companyInput" class="label-style" i18n="COMPANY"></label>
                        <input type="text" id="companyInput" class="inputName input" value="">
                    </div>
                    <div class="row" style="display:flex;justify-content:space-between;">
                        <div class="col" style="margin-right: 20%;">
                            <label for="telInput" class=" inputPhone label-style" i18n="TELPHONT_MAY"></label>
                            <input type="text" id="telInput" class="inputPhone input" value="">
                        </div>
                        <div class="col">
                            <label for="eMailInput" class="inputEmail label-style" i18n="E_MAIL"></label>
                            <input type="text" id="eMailInput" class="inputEmail input" value="">
                        </div>


                    </div>
                    <div class="row">
                        <label for="msg" class="label_color" i18n="MESSAGE_MAY"></label>
                        <textarea rows="4" id="msg" class="inputMessage input"></textarea>
                    </div>
                    <div class="checkBoxCon">
                        <input type="checkbox" checked id="checkboxBtn" class="international" /><span i18n="SUB_MESSAGE"></span>
                    </div>
                    <div id="submitBox" i18n="SUBMIT" class="btnSendForm">发送信息</div>
                </form>
            </div>
        </div>

        <div id="paneCompleted" class="col-lg-4 col-md-8 col-xs-10 contactBox" style="padding-top: 30px; display: none;">
            <h6 style="font-size: 40px; color: #70c396; line-height: 56px;" class="international" i18n="THANK_ATTENTION"></h6>
            <br />
            <a class="aDownload international" href="http://www.rnbtechgroup.com/BeOP_Smart_Devices_2016.pdf" i18n="DOCUMENTATION">DOCUMENTATION</a>
        </div>
    </div>

    <script>
        var submitBox = document.getElementById('submitBox');
        submitBox.onclick = function () {
            var name = document.getElementById('nameInput').value.replace(/(^\s*)|(\s*$)/g, "");
            var eMail = document.getElementById('eMailInput').value.replace(/(^\s*)|(\s*$)/g, "");
            var company = document.getElementById('companyInput').value.replace(/(^\s*)|(\s*$)/g, "");
            var telNum = document.getElementById('telInput').value.replace(/(^\s*)|(\s*$)/g, "");
            var msg = document.getElementById('msg').value.replace(/(^\s*)|(\s*$)/g, "");
            var rss = (document.getElementById('checkboxBtn').checked) ? 1 : 0;
            if (name === '' || eMail === '') {
                alert(in18n_resource.ENTER_INFORMATION);
                return;
            }
            var reg = /^(\w-*\.*)+@(\w-?)+(\.\w{2,})+$/;
            if (!reg.test(eMail)) {
                alert(in18n_resource.ENTER_TRUE_MAIL);
                return;
            }
            var xhr = new XMLHttpRequest();
            var result;
            xhr.onload = function () {
                if (xhr.status == 200) {
                    result = JSON.parse(xhr.responseText);
                    if (result.data) {
                        document.getElementById('paneForm').style.display = 'none';
                        document.getElementById('paneCompleted').style.display = 'block';
                    } else {
                        alert(in18n_resource.UPLOAD_INFORMATION);
                    }
                }
                else {
                    alert(in18n_resource.UPLOAD_INFORMATION);
                }
            };
            xhr.open("POST", "/submit/contactus");
            xhr.setRequestHeader("Content-Type", "application/json");
            xhr.send(JSON.stringify({ name: name, company: company, mail: eMail, phone: telNum, msg: msg, rss: rss }));
        };

        //i18n设置;
        var i18n_resource = {
            'zh': {
                CONTACT_US: "联系我们",
                NAME: "姓名(必填)",
                NECESSARY: "必填",
                COMPANY_NAME: "公司名称(必填)",
                E_MAIL: "电子邮箱(必填)",
                COMPANY: "公司(必填)",
                TELPHONT: "联系电话",
                TELPHONT_MAY: "联系电话 (选填)",
                MESSAGE: "留言",
                MESSAGE_MAY: "留言 (选填)",
                SUB_MESSAGE: "我愿意订阅R&B科技集团发送的信息。（可随时取消订阅）",
                SUBMIT: "确认",
                ENTER_INFORMATION: "带*内容为必填部分，请输入相关信息！",
                ENTER_TRUE_MAIL: "请输入有效的电子邮箱地址",
                UPLOAD_INFORMATION: "你的信息上传失败！",
                THANK_ATTENTION: "感谢您对R&B科技集团的关注！",
                DOCUMENTATION: "产品宣传页"
            },
            'en': {
                CONTACT_US: "Contact us",
                NAME: "Name",
                NECESSARY: "*",
                COMPANY_NAME: "Company",
                COMPANY: "Company",
                E_MAIL: "E-mail",
                TELPHONT: "Tel",
                TELPHONT_MAY: "Tel (optional)",
                MESSAGE: "Message",
                MESSAGE_MAY: "Message (optional)",
                SUB_MESSAGE: "Send me information from R&B Technology Group. You can unsubscribe at any time.",
                SUBMIT: "Submit",
                ENTER_INFORMATION: "Please enter your information!",
                ENTER_TRUE_MAIL: "Please enter a valid email address!",
                UPLOAD_INFORMATION: "Failed to upload your information！",
                THANK_ATTENTION: "Thank you for your attention！",
                DOCUMENTATION: "DOCUMENTATION"
            }

        };
        var in18n_resource;
        function setLanguage(language) {
            var currentUrl = location.href;
            var toggleUrl;
            var str;
            if (!language) language = navigator.language.split('-')[0];
            if (currentUrl.indexOf('?') === -1) {
                in18n_resource = i18n_resource[language];
            }
            else {
                str = currentUrl.split('=')[1];
                language = str;
                in18n_resource = i18n_resource[language];
            }
        }
        setLanguage(localStorage["language"]);


        function translate() {
            $('[i18n]').each(function (index, item) {
                var $this = $(this);
                var i18nKey = $this.attr('i18n');
                if (i18nKey.indexOf('=') === -1) {
                    $this.text(in18n_resource[i18nKey]);
                } else {
                    var i18nKeyList = i18nKey.split(';');
                    for (var i = i18nKeyList.length - 1; i >= 0; i--) {
                        var i18nKeyItem = i18nKeyList[i];
                        if (i18nKeyItem.indexOf('=') === -1) {
                            $this.text(in18n_resource[i18nKey]);
                        } else {
                            $this.attr(i18nKeyItem.split('=')[0].trim(), in18n_resource[i18nKeyItem.split('=')[1].trim()]);
                        }
                    }
                }
            })
        }
        translate();
    </script>
</body>

</html>