import React from 'react';
import PropTypes from 'prop-types';
import cx from 'classnames';

import { DefaultButton } from 'office-ui-fabric-react/lib/Button';
import { Icon } from 'office-ui-fabric-react/lib/Icon';

import s from './Tab.css';

export default class Tab extends React.Component {
  constructor(props) {
    super(props);
  }
  getMenu() {
    const { panes, activePaneKey } = this.props;

    if (!panes || panes.length === 0) {
      return null;
    }

    return panes.map(row => (
      <a
        key={row.key}
        className={cx(
          {
            [s['active']]: row.key === activePaneKey
          },
          s['tab-menu-item']
        )}
        onClick={() => this.props.onTabChange(row.key) }
      >
        <Icon iconName="Questionnaire" className={s['menu-item-icon']} />
        {row.title}
      </a>
    ));
  }
  getPane() {
    const { panes, activePaneKey } = this.props;
    const pane = panes.find(row => row.key === activePaneKey);

    if (!pane) {
      return null;
    }

    return pane.content;
  }
  render() {
    return (
      <div className={cx(s['tab-container'], this.props.className)}>
        <div key="menu" className={s['tab-menu']}>
          {this.getMenu()}
        </div>
        <div key="pane" className={s['tab-pane']}>
          {this.getPane()}
        </div>
      </div>
    );
  }
}
