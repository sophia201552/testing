import pytestfrom beopWeb.mod_admin import dataManagerControllersimport json@pytest.mark.p0@pytest.mark.parametrize(('req_data', 'expected'), [    (    {"projectId": 72,     "text": "A11AHU_A_11_DmprEaCtr",     "isAdvance": False,     "order": "asc",     "isRemark": False,     "flag": 0,     "starred": "",     "item": "pointname",     "page_size": 200,     "current_page": 1},    {"list":         [{"alias": "A11AHU_A_11_DmprEaCtrl1",           "flag": 0,           "pointname": "A11AHU_A_11_DmprEaCtrl",           "pointvalue": "1",           "tag": ["AHU", "Damper", "EAF", "Control"],           "time": "2017-11-06 23:27"}], "total": 1}),    ({"projectId": 72,      "text": "A11AHU DmprEaCtrl",      "isAdvance": False,      "order": "asc",      "isRemark": False,      "flag": 0,      "starred": "",      "item": "pointname",      "page_size": 200,      "current_page": 1},    {"list":         [{"alias": "A11AHU_A_11_DmprEaCtrl1",           "flag": 0,           "pointname": "A11AHU_A_11_DmprEaCtrl",           "pointvalue": "1",            "tag": ["AHU", "Damper", "EAF", "Control"],           "time": "2017-11-06 23:27"},           {"alias": "A11AHU_A_21_DmprEaCtrl",            "flag": 0,            "pointname": "A11AHU_A_21_DmprEaCtrl",            "pointvalue": "1",            "tag": ["AHU", "Damper", "Control", "Exhaust", "Air"],            "time": "2017-11-06 23:27"}], "total": 2}),    ({"projectId": 72,      "text": "A11AHU_A_11|11_DmprEaCtrl",      "isAdvance": False,      "order": "asc",      "isRemark": False,      "flag": 0,      "starred": "",      "item": "pointname",      "page_size": 200,      "current_page": 1},    {"list":         [{"alias": "A11AHU_A_11_DmprEaCtrl1",           "flag": 0,           "pointname": "A11AHU_A_11_DmprEaCtrl",           "pointvalue": "1",            "tag": ["AHU", "Damper", "EAF", "Control"],           "time": "2017-11-06 23:27"},           {"alias": "A11AHU_A_11_DmprOaCtrl",            "flag": 0,            "pointname": "A11AHU_A_11_DmprOaCtrl",            "pointvalue": "1",            "tag": ["AHU", "Damper", "OAU", "Control"],            "time": "2017-11-06 23:27"},           {"alias": "A11AHU_A_11_DmprRaCtrl",            "flag": 0,            "pointname": "A11AHU_A_11_DmprRaCtrl",            "pointvalue": "0",            "tag": ["AHU", "Damper", "RAF", "Control"],            "time": "2017-11-06 23:27"},           {"alias": "A11AHU_A_11_PressSaOut",            "flag": 0,            "pointname": "A11AHU_A_11_PressSaOut",            "pointvalue": "150",            "tag": ["AHU", "Pressure", "Saturation", "South"],            "time": "2017-11-06 23:27"},           {"alias": "A11AHU_A_11_PressSaOutSp",            "flag": 0,            "pointname": "A11AHU_A_11_PressSaOutSp",            "pointvalue": "150",            "tag": ["AHU", "Pressure", "Saturation", "South", "Speed"],            "time": "2017-11-06 23:27"},           {"alias": "A11AHU_A_11_Season",            "flag": 0,            "pointname": "A11AHU_A_11_Season",            "pointvalue": "3",            "tag": ["AHU", "Season"],            "time": "2017-11-06 23:27"},           {"alias": "A11AHU_A_11_TempSaIn",            "flag": 0,            "pointname": "A11AHU_A_11_TempSaIn",            "pointvalue": "21.98",            "tag": ["AHU", "Temperature", "Saturation", "Line"],            "time": "2017-11-06 23:27"},           {"alias": "A11AHU_A_11_TempSaInSp",            "flag": 0,            "pointname": "A11AHU_A_11_TempSaInSp",            "pointvalue": "24",            "tag": ["AHU", "Temperature", "Saturation", "Line", "Speed"],            "time": "2017-11-06 23:27"},           {"alias": "A11AHU_A_11_TempSaOut",            "flag": 0,            "pointname": "A11AHU_A_11_TempSaOut",            "pointvalue": "21.84",            "tag": ["AHU", "Temperature", "Saturation", "South"],            "time": "2017-11-06 23:27"},           {"alias": "A11AHU_A_11_TempSaOutSp",            "flag": 0,            "pointname": "A11AHU_A_11_TempSaOutSp",            "pointvalue": "22",            "tag": ["AHU", "Temperature", "Saturation", "South", "Speed"],            "time": "2017-11-06 23:27"},           {"alias": "A11AHU_A_11_VFCtrl",            "flag": 0,            "pointname": "A11AHU_A_11_VFCtrl",            "pointvalue": "1",            "tag": ["AHU", "Control"],            "time": "2017-11-06 23:27"},           {"alias": "A11AHU_A_11_VFPos",            "flag": 0,            "pointname": "A11AHU_A_11_VFPos",            "pointvalue": "42.95",            "tag": ["AHU", "Position"],            "time": "2017-11-06 23:27"},           {"alias": "A11AHU_A_11_VFReg",            "flag": 0,            "pointname": "A11AHU_A_11_VFReg",            "pointvalue": "43.16",            "tag": ["AHU", "Refrigerant"], "time": "2017-11-06 23:27"},           {"alias": "A11AHU_A_11_VFSA",            "flag": 0,            "pointname": "A11AHU_A_11_VFSA",            "pointvalue": "1",            "tag": ["AHU"],            "time": "2017-11-06 23:27"},           {"alias": "A11AHU_A_11_VFSta",            "flag": 0,            "pointname": "A11AHU_A_11_VFSta",            "pointvalue": "1",            "tag": ["AHU", "Stage"],            "time": "2017-11-06 23:27"},           {"alias": "A11AHU_A_11_VFTrip",            "flag": 0,            "pointname": "A11AHU_A_11_VFTrip",            "pointvalue": "0",            "tag": ["AHU", "Trip"],            "time": "2017-11-06 23:27"},           {"alias": "A11AHU_A_11_VlvColdReg",            "flag": 0,            "pointname": "A11AHU_A_11_VlvColdReg",            "pointvalue": "0",            "tag": ["AHU", "Valve", "CO", "Refrigerant"],            "time": "2017-11-06 23:27"},           {"alias": "A11AHU_A_11_VlvHotReg",            "flag": 0,            "pointname": "A11AHU_A_11_VlvHotReg",            "pointvalue": "0",            "tag": ["AHU", "Valve", "Hot", "Refrigerant"],            "time": "2017-11-06 23:27"},           {"alias": "B11AHU_B_11_DmprEaCtrl",            "flag": 0,            "pointname": "B11AHU_B_11_DmprEaCtrl",            "pointvalue": "1",            "tag": ["AHU", "Damper", "Control", "Exhaust", "Air"],            "time": "2017-11-06 23:36"},           {"alias": "C11AHU_C_11_DmprEaCtrl",            "flag": 0,            "pointname": "C11AHU_C_11_DmprEaCtrl",            "pointvalue": "1",            "tag": ["AHU", "Damper", "Control", "Exhaust", "Air"],            "time": "2017-11-06 23:33"},           {"alias": "G11AHU_G_11_DmprEaCtrl",            "flag": 0,            "pointname": "G11AHU_G_11_DmprEaCtrl",            "pointvalue": "1",            "tag": ["AHU", "Damper", "Control", "Exhaust", "Air"],            "time": "2017-11-06 23:30"},           {"alias": "H11AHU_H_11_DmprEaCtrl",            "flag": 0,            "pointname": "H11AHU_H_11_DmprEaCtrl",            "pointvalue": "0",            "tag": ["AHU", "Damper", "Control", "Exhaust", "Air"],            "time": "2017-11-06 23:31"},           {"alias": "J11AHU_J_11_DmprEaCtrl",            "flag": 0,            "pointname": "J11AHU_J_11_DmprEaCtrl",            "pointvalue": "1",            "tag": ["AHU", "Damper", "Control", "Exhaust", "Air"], "time": "2017-11-06 23:33"}], "total": 23}),    # ({"projectId":72,"text":"A11AHU[^21]*","isAdvance":False,"order":"asc","isRemark":False,"flag":0,"starred":"","item":"pointname","page_size":200,"current_page":1}),    ({"projectId": 72,      "text": "^A11AHU",      "isAdvance": False,      "order": "asc",      "isRemark": False,      "flag": 0,      "starred": "",      "item": "pointname",      "page_size": 200,      "current_page": 1},     {"list":          [{"alias": "A11AHU_A_11_DmprEaCtrl1",            "flag": 0,            "pointname": "A11AHU_A_11_DmprEaCtrl",            "pointvalue": "1",            "tag": ["AHU", "Damper", "EAF", "Control"],            "time": "2017-11-06 23:27"},           {"alias": "A11AHU_A_11_DmprOaCtrl",            "flag": 0,            "pointname": "A11AHU_A_11_DmprOaCtrl",            "pointvalue": "1",            "tag": ["AHU", "Damper", "OAU", "Control"],            "time": "2017-11-06 23:27"},           {"alias": "A11AHU_A_11_DmprRaCtrl",            "flag": 0,            "pointname": "A11AHU_A_11_DmprRaCtrl",            "pointvalue": "0",            "tag": ["AHU", "Damper", "RAF", "Control"],            "time": "2017-11-06 23:27"},           {"alias": "A11AHU_A_11_PressSaOut",            "flag": 0,            "pointname": "A11AHU_A_11_PressSaOut",            "pointvalue": "150",            "tag": ["AHU", "Pressure", "Saturation", "South"],            "time": "2017-11-06 23:27"},           {"alias": "A11AHU_A_11_PressSaOutSp",            "flag": 0,            "pointname": "A11AHU_A_11_PressSaOutSp",            "pointvalue": "150",            "tag": ["AHU", "Pressure", "Saturation", "South", "Speed"],            "time": "2017-11-06 23:27"},           {"alias": "A11AHU_A_11_Season",            "flag": 0,            "pointname": "A11AHU_A_11_Season",            "pointvalue": "3",            "tag": ["AHU", "Season"],            "time": "2017-11-06 23:27"},           {"alias": "A11AHU_A_11_TempSaIn",            "flag": 0,            "pointname": "A11AHU_A_11_TempSaIn",            "pointvalue": "21.98",            "tag": ["AHU", "Temperature", "Saturation", "Line"],            "time": "2017-11-06 23:27"},           {"alias": "A11AHU_A_11_TempSaInSp",            "flag": 0,            "pointname": "A11AHU_A_11_TempSaInSp",            "pointvalue": "24",            "tag": ["AHU", "Temperature", "Saturation", "Line", "Speed"],            "time": "2017-11-06 23:27"},           {"alias": "A11AHU_A_11_TempSaOut",            "flag": 0,            "pointname": "A11AHU_A_11_TempSaOut",            "pointvalue": "21.84", "tag": ["AHU", "Temperature", "Saturation", "South"],            "time": "2017-11-06 23:27"},           {"alias": "A11AHU_A_11_TempSaOutSp",            "flag": 0,            "pointname": "A11AHU_A_11_TempSaOutSp",            "pointvalue": "22",            "tag": ["AHU", "Temperature", "Saturation", "South", "Speed"],            "time": "2017-11-06 23:27"},           {"alias": "A11AHU_A_11_VFCtrl",            "flag": 0,            "pointname": "A11AHU_A_11_VFCtrl",            "pointvalue": "1",            "tag": ["AHU", "Control"],            "time": "2017-11-06 23:27"},           {"alias": "A11AHU_A_11_VFPos",            "flag": 0,            "pointname": "A11AHU_A_11_VFPos",            "pointvalue": "42.95",            "tag": ["AHU", "Position"],            "time": "2017-11-06 23:27"},           {"alias": "A11AHU_A_11_VFReg",            "flag": 0,            "pointname": "A11AHU_A_11_VFReg",            "pointvalue": "43.16",            "tag": ["AHU", "Refrigerant"],            "time": "2017-11-06 23:27"},           {"alias": "A11AHU_A_11_VFSA",            "flag": 0,            "pointname": "A11AHU_A_11_VFSA",            "pointvalue": "1",            "tag": ["AHU"],            "time": "2017-11-06 23:27"},           {"alias": "A11AHU_A_11_VFSta",            "flag": 0,            "pointname": "A11AHU_A_11_VFSta",            "pointvalue": "1",            "tag": ["AHU", "Stage"],            "time": "2017-11-06 23:27"},           {"alias": "A11AHU_A_11_VFTrip",            "flag": 0,            "pointname": "A11AHU_A_11_VFTrip",            "pointvalue": "0",            "tag": ["AHU", "Trip"],            "time": "2017-11-06 23:27"},           {"alias": "A11AHU_A_11_VlvColdReg",            "flag": 0,            "pointname": "A11AHU_A_11_VlvColdReg",            "pointvalue": "0",            "tag": ["AHU", "Valve", "CO", "Refrigerant"],            "time": "2017-11-06 23:27"},           {"alias": "A11AHU_A_11_VlvHotReg",            "flag": 0,            "pointname": "A11AHU_A_11_VlvHotReg",            "pointvalue": "0",            "tag": ["AHU", "Valve", "Hot", "Refrigerant"],            "time": "2017-11-06 23:27"},           {"alias": "A11AHU_A_21_DmprEaCtrl",            "flag": 0,            "pointname": "A11AHU_A_21_DmprEaCtrl",            "pointvalue": "1",            "tag": ["AHU", "Damper", "Control", "Exhaust", "Air"],            "time": "2017-11-06 23:27"},           {"alias": "A11AHU_A_21_DmprOaCtrl",            "flag": 0,            "pointname": "A11AHU_A_21_DmprOaCtrl",            "pointvalue": "1",            "tag": ["AHU", "Damper", "Control", "Fresh", "Air"],            "time": "2017-11-06 23:27"},           {"alias": "A11AHU_A_21_DmprRaCtrl",            "flag": 0,            "pointname": "A11AHU_A_21_DmprRaCtrl",            "pointvalue": "0",            "tag": ["AHU", "Damper", "Control", "Return", "Air"],            "time": "2017-11-06 23:27"},           {"alias": "A11AHU_A_21_PressSaOut",            "flag": 0,            "pointname": "A11AHU_A_21_PressSaOut",            "pointvalue": "87",            "tag": ["AHU", "Pressure", "Supply", "Air"],            "time": "2017-11-06 23:27"},           {"alias": "A11AHU_A_21_PressSaOutSp",            "flag": 0,            "pointname": "A11AHU_A_21_PressSaOutSp",            "pointvalue": "150",            "tag": ["AHU", "Pressure", "Setpoint", "Supply", "Air"],            "time": "2017-11-06 23:27"},           {"alias": "A11AHU_A_21_Season",            "flag": 0,            "pointname": "A11AHU_A_21_Season",            "pointvalue": "2",            "tag": ["AHU", "Season", "Mode"],            "time": "2017-11-06 23:27"},           {"alias": "A11AHU_A_21_TempSaIn",            "flag": 0,            "pointname": "A11AHU_A_21_TempSaIn",            "pointvalue": "17.1",            "tag": ["AHU", "Temperature", "Supply", "Air"],            "time": "2017-11-06 23:27"},           {"alias": "A11AHU_A_21_TempSaInSp",            "flag": 0,            "pointname": "A11AHU_A_21_TempSaInSp",            "pointvalue": "24",            "tag": ["AHU", "Temperature", "Setpoint", "Supply", "Air"],            "time": "2017-11-06 23:27"},           {"alias": "A11AHU_A_21_TempSaOut",            "flag": 0,            "pointname": "A11AHU_A_21_TempSaOut",            "pointvalue": "17.02",            "tag": ["AHU", "Temperature", "Supply", "Air"],            "time": "2017-11-06 23:27"},           {"alias": "A11AHU_A_21_TempSaOutSp",            "flag": 0,            "pointname": "A11AHU_A_21_TempSaOutSp",            "pointvalue": "18",            "tag": ["AHU", "Temperature", "Setpoint", "Supply", "Air"],            "time": "2017-11-06 23:27"},           {"alias": "A11AHU_A_21_VFCtrl",            "flag": 0,            "pointname": "A11AHU_A_21_VFCtrl",            "pointvalue": "1",            "tag": ["AHU", "Control", "VSD"],            "time": "2017-11-06 23:27"},           {"alias": "A11AHU_A_21_VFPos",            "flag": 0,            "pointname": "A11AHU_A_21_VFPos",            "pointvalue": "49.55",            "tag": ["AHU", "Position", "VSD"],            "time": "2017-11-06 23:27"},           {"alias": "A11AHU_A_21_VFReg",            "flag": 0,            "pointname": "A11AHU_A_21_VFReg",            "pointvalue": "50",            "tag": ["AHU", "VSD", "Frequency", "Setpoint"],            "time": "2017-11-06 23:27"},           {"alias": "A11AHU_A_21_VFSA",            "flag": 0,            "pointname": "A11AHU_A_21_VFSA",            "pointvalue": "0",            "tag": ["AHU", "VSD", "Automatic", "Mode"],            "time": "2017-11-06 23:27"},           {"alias": "A11AHU_A_21_VFSta",            "flag": 0,            "pointname": "A11AHU_A_21_VFSta",            "pointvalue": "1",            "tag": ["AHU", "VSD", "Status"],            "time": "2017-11-06 23:27"},           {"alias": "A11AHU_A_21_VFTrip",            "flag": 0,            "pointname": "A11AHU_A_21_VFTrip",            "pointvalue": "0",            "tag": ["AHU", "Trip", "VSD"],            "time": "2017-11-06 23:27"},           {"alias": "A11AHU_A_21_VlvColdReg",            "flag": 0,            "pointname": "A11AHU_A_21_VlvColdReg",            "pointvalue": "0",            "tag": ["AHU", "Valve", "Cooling", "Water", "Position", "Setpoint"],            "time": "2017-11-06 23:27"},           {"alias": "A11AHU_A_21_VlvHotReg",            "flag": 0,            "pointname": "A11AHU_A_21_VlvHotReg",            "pointvalue": "0",            "tag": ["AHU", "Valve", "Hot", "Water", "Position", "Setpoint"],            "time": "2017-11-06 23:27"}],"total": 36}),    ({"projectId": 72,      "text": "11_DmprEaCtrl$",      "isAdvance": False,      "order": "asc",      "isRemark": False,      "flag": 0,      "starred": "",      "item": "pointname",      "page_size": 200,      "current_page": 1},     {"list":          [{"alias": "A11AHU_A_11_DmprEaCtrl1",            "flag": 0,            "pointname": "A11AHU_A_11_DmprEaCtrl",            "pointvalue": "1",            "tag": ["AHU", "Damper", "EAF", "Control"],            "time": "2017-11-06 23:27"},           {"alias": "B11AHU_B_11_DmprEaCtrl",            "flag": 0,            "pointname": "B11AHU_B_11_DmprEaCtrl",            "pointvalue": "1",            "tag": ["AHU", "Damper", "Control", "Exhaust", "Air"],            "time": "2017-11-06 23:36"},           {"alias": "C11AHU_C_11_DmprEaCtrl",            "flag": 0,            "pointname": "C11AHU_C_11_DmprEaCtrl",            "pointvalue": "1",            "tag": ["AHU", "Damper", "Control", "Exhaust", "Air"],            "time": "2017-11-06 23:33"},           {"alias": "G11AHU_G_11_DmprEaCtrl",            "flag": 0,            "pointname": "G11AHU_G_11_DmprEaCtrl",            "pointvalue": "1",            "tag": ["AHU", "Damper", "Control", "Exhaust", "Air"],            "time": "2017-11-06 23:30"},           {"alias": "H11AHU_H_11_DmprEaCtrl",            "flag": 0,            "pointname": "H11AHU_H_11_DmprEaCtrl",            "pointvalue": "0",            "tag": ["AHU", "Damper", "Control", "Exhaust", "Air"],            "time": "2017-11-06 23:31"},           {"alias": "J11AHU_J_11_DmprEaCtrl",            "flag": 0,            "pointname": "J11AHU_J_11_DmprEaCtrl",            "pointvalue": "1",            "tag": ["AHU", "Damper", "Control", "Exhaust", "Air"],            "time": "2017-11-06 23:33"}], "total": 6}),    ({"projectId": 72,      "text": "A11AHU_A_11_Pres*",      "isAdvance": False,      "order": "asc",      "isRemark": False,      "flag": 0,      "starred": "",      "item": "pointname",      "page_size": 200,      "current_page": 1},    {"list": [         {"alias": "A11AHU_A_11_PressSaOut",          "flag": 0,          "pointname": "A11AHU_A_11_PressSaOut",          "pointvalue": "150",          "tag": ["AHU", "Pressure", "Saturation", "South"],          "time": "2017-11-06 23:27"},         {"alias": "A11AHU_A_11_PressSaOutSp",          "flag": 0,          "pointname": "A11AHU_A_11_PressSaOutSp",          "pointvalue": "150",          "tag": ["AHU", "Pressure", "Saturation", "South", "Speed"],          "time": "2017-11-06 23:27"}], "total": 2}),    ({"projectId": 72,      "text": "A11AHU_A_11_Pres+",      "isAdvance": False,      "order": "asc",      "isRemark": False,      "flag": 0,      "starred": "",      "item": "pointname",      "page_size": 200,      "current_page": 1},    {"list": [         {"alias": "A11AHU_A_11_PressSaOut",          "flag": 0,          "pointname": "A11AHU_A_11_PressSaOut",          "pointvalue": "150",          "tag": ["AHU", "Pressure", "Saturation", "South"],          "time": "2017-11-06 23:27"},         {"alias": "A11AHU_A_11_PressSaOutSp",          "flag": 0,          "pointname": "A11AHU_A_11_PressSaOutSp",          "pointvalue": "150",          "tag": ["AHU", "Pressure", "Saturation", "South", "Speed"],          "time": "2017-11-06 23:27"}], "total": 2}),    ({"projectId": 72,      "text": "B32AHU_B_52_Pres{3}aOut",      "isAdvance": False,      "order": "asc",      "isRemark": False,      "flag": 0,      "starred": "",      "item": "pointname",      "page_size": 200,      "current_page": 1},     {"list": [         {"alias": "B32AHU_B_52_PressSaOut",          "flag": 0,          "pointname": "B32AHU_B_52_PressSaOut",          "pointvalue": "81.5",          "tag": ["AHU", "Pressure", "Supply", "Air"],          "time": "2017-11-06 23:33"},         {"alias": "B32AHU_B_52_PressSaOutSp",          "flag": 0,          "pointname": "B32AHU_B_52_PressSaOutSp",          "pointvalue": "150",          "tag": ["AHU", "Pressure", "Setpoint", "Supply", "Air"],          "time": "2017-11-06 23:33"}], "total": 2}),    ({"projectId": 72,      "text": "B32AHU_B_52_Pres{2}aOut",      "isAdvance": False,      "order": "asc",      "isRemark": False,      "flag": 0,      "starred": "",      "item": "pointname",      "page_size": 200,      "current_page": 1},     {"list": [], "total": 0}),    ({"projectId": 72,      "text": "B32AHU_B_52_Pres{1,}aOut",      "isAdvance": False,      "order": "asc",      "isRemark": False,      "flag": 0,      "starred": "",      "item": "pointname",      "page_size": 200,      "current_page": 1},    {"list": [         {"alias": "B32AHU_B_52_PressSaOut",          "flag": 0,          "pointname": "B32AHU_B_52_PressSaOut",          "pointvalue": "81.5",          "tag": ["AHU", "Pressure", "Supply", "Air"],          "time": "2017-11-06 23:33"},         {"alias": "B32AHU_B_52_PressSaOutSp",          "flag": 0,          "pointname": "B32AHU_B_52_PressSaOutSp",          "pointvalue": "150",          "tag": ["AHU", "Pressure", "Setpoint", "Supply", "Air"],          "time": "2017-11-06 23:33"}], "total": 2}),    ({"projectId": 72,      "text": "B32AHU_B_52_Pres{4,}aOut",      "isAdvance": False,      "order": "asc",      "isRemark": False,      "flag": 0,      "starred": "",      "item": "pointname",      "page_size": 200,      "current_page": 1},     {"list": [], "total": 0}),    ({"projectId": 72,      "text": "B32AHU_B_52_Pres{4,5}aOut",      "isAdvance": False,      "order": "asc",      "isRemark": False,      "flag": 0,      "starred": "",      "item": "pointname",      "page_size": 200,      "current_page": 1},     {"list": [], "total": 0}),    ({"projectId": 72,      "text": "B32AHU_B_52_Pres{3,5}aOut",      "isAdvance": False,      "order": "asc",      "isRemark": False,      "flag": 0,      "starred": "",      "item": "pointname",      "page_size": 200,      "current_page": 1},     {"list": [         {"alias": "B32AHU_B_52_PressSaOut",          "flag": 0,          "pointname": "B32AHU_B_52_PressSaOut",          "pointvalue": "81.5",          "tag": ["AHU", "Pressure", "Supply", "Air"],          "time": "2017-11-06 23:33"},         {"alias": "B32AHU_B_52_PressSaOutSp",          "flag": 0,          "pointname": "B32AHU_B_52_PressSaOutSp",          "pointvalue": "150",          "tag": ["AHU", "Pressure", "Setpoint", "Supply", "Air"],          "time": "2017-11-06 23:33"}], "total": 2}),    ({"projectId": 72,      "text": "ahu  a  vfsa",      "isAdvance": False,      "order": "asc",      "isRemark": False,      "flag": 0,      "starred": "",      "item": "pointname",      "page_size": 200,      "current_page": 1},     {"list": [         {"alias": "A11AHU_A_11_VFSA",          "flag": 0,          "pointname": "A11AHU_A_11_VFSA",          "pointvalue": "1",          "tag": ["AHU"],          "time": "2017-11-06 23:27"},         {"alias": "A11AHU_A_21_VFSA",          "flag": 0,          "pointname": "A11AHU_A_21_VFSA",          "pointvalue": "0",          "tag": ["AHU", "VSD", "Automatic", "Mode"],          "time": "2017-11-06 23:27"},         {"alias": "A12AHU_A_12_VFSA",          "flag": 0,          "pointname": "A12AHU_A_12_VFSA",          "pointvalue": "1",          "tag": ["AHU", "VSD", "Automatic", "Mode"],          "time": "2017-11-06 23:36"},         {"alias": "A12AHU_A_22_VFSA",          "flag": 0,          "pointname": "A12AHU_A_22_VFSA",          "pointvalue": "1",          "tag": ["AHU", "VSD", "Automatic", "Mode"],          "time": "2017-11-06 23:36"},         {"alias": "A13AHU_A_13_VFSA",          "flag": 0,          "pointname": "A13AHU_A_13_VFSA",          "pointvalue": "1",          "tag": ["AHU", "VSD", "Automatic", "Mode"],          "time": "2017-11-06 23:27"},         {"alias": "A13AHU_A_23_VFSA",          "flag": 0,          "pointname": "A13AHU_A_23_VFSA",          "pointvalue": "1",          "tag": ["AHU", "VSD", "Automatic", "Mode"],          "time": "2017-11-06 23:27"},         {"alias": "A14AHU_A_14_VFSA",          "flag": 0,          "pointname": "A14AHU_A_14_VFSA",          "pointvalue": "1",          "tag": ["AHU", "VSD", "Automatic", "Mode"],          "time": "2017-11-06 23:36"},         {"alias": "A14AHU_A_24_VFSA",          "flag": 0,          "pointname": "A14AHU_A_24_VFSA",          "pointvalue": "1",          "tag": ["AHU", "VSD", "Automatic", "Mode"],          "time": "2017-11-06 23:36"},         {"alias": "A14AHU_P2_A_1_VFSA",          "flag": 0,          "pointname": "A14AHU_P2_A_1_VFSA",          "pointvalue": "0",          "tag": ["AHU", "VSD", "Automatic", "Mode"],          "time": "2017-11-06 23:36"},         {"alias": "A31AHU_A_31_VFSA",          "flag": 0,          "pointname": "A31AHU_A_31_VFSA",          "pointvalue": "1",          "tag": ["AHU", "VSD", "Automatic", "Mode"],          "time": "2017-11-06 23:27"},         {"alias": "A31AHU_A_41_VFSA",          "flag": 0,          "pointname": "A31AHU_A_41_VFSA",          "pointvalue": "1",          "tag": ["AHU", "VSD", "Automatic", "Mode"],          "time": "2017-11-06 23:27"},         {"alias": "A31AHU_A_51_VFSA",          "flag": 0,          "pointname": "A31AHU_A_51_VFSA",          "pointvalue": "1",          "tag": ["AHU", "VSD", "Automatic", "Mode"],          "time": "2017-11-06 23:27"},         {"alias": "A32AHU_A_32_VFSA",          "flag": 0,          "pointname": "A32AHU_A_32_VFSA",          "pointvalue": "1",          "tag": ["AHU", "VSD", "Automatic", "Mode"],          "time": "2017-11-06 23:36"},         {"alias": "A32AHU_A_42_VFSA",          "flag": 0,          "pointname": "A32AHU_A_42_VFSA",          "pointvalue": "1",          "tag": ["AHU", "VSD", "Automatic", "Mode"],          "time": "2017-11-06 23:36"},         {"alias": "A32AHU_A_52_VFSA",          "flag": 0,          "pointname": "A32AHU_A_52_VFSA",          "pointvalue": "1",          "tag": ["AHU", "VSD", "Automatic", "Mode"],          "time": "2017-11-06 23:36"},         {"alias": "A33AHU_A_33_VFSA",          "flag": 0,          "pointname": "A33AHU_A_33_VFSA",          "pointvalue": "1",          "tag": ["AHU", "VSD", "Automatic", "Mode"],          "time": "2017-11-06 23:27"},         {"alias": "A33AHU_A_43_VFSA",          "flag": 0,          "pointname": "A33AHU_A_43_VFSA",          "pointvalue": "1",          "tag": ["AHU", "VSD", "Automatic", "Mode"],          "time": "2017-11-06 23:27"},         {"alias": "A33AHU_A_53_VFSA",          "flag": 0,          "pointname": "A33AHU_A_53_VFSA",          "pointvalue": "1",          "tag": ["AHU", "VSD", "Automatic", "Mode"],          "time": "2017-11-06 23:27"},         {"alias": "A34AHU_A_34_VFSA",          "flag": 0,          "pointname": "A34AHU_A_34_VFSA",          "pointvalue": "1",          "tag": ["AHU", "VSD", "Automatic", "Mode"],          "time": "2017-11-06 23:36"},         {"alias": "A34AHU_A_44_VFSA",          "flag": 0,          "pointname": "A34AHU_A_44_VFSA",          "pointvalue": "1",          "tag": ["AHU", "VSD", "Automatic", "Mode"],          "time": "2017-11-06 23:36"},         {"alias": "A34AHU_A_54_VFSA",          "flag": 0,          "pointname": "A34AHU_A_54_VFSA",          "pointvalue": "1",          "tag": ["AHU", "VSD", "Automatic", "Mode"],          "time": "2017-11-06 23:36"}], "total": 21}),    ({"projectId": 72,      "text": "OAU  \\d+ DewSp",      "isAdvance": False,      "order": "asc",      "isRemark": False,      "flag": 0,      "starred": "",      "item": "pointname",      "page_size": 200,      "current_page": 1},     {"list": [{"alias": "D31OAU_D_R1_DewSp",                "flag": 0,                "pointname": "D31OAU_D_R1_DewSp",                "pointvalue": "9.5",                "tag": ["Setpoint", "OAU", "Humidity"],                "time": "2017-11-06 23:25"},               {"alias": "D32OAU_D_R2_DewSp",                "flag": 0,                "pointname": "D32OAU_D_R2_DewSp",                "pointvalue": "9.5",                "tag": ["Setpoint", "OAU", "Humidity"],                "time": "2017-11-06 23:25"},               {"alias": "DS1OAU_D_01_DewSp",                "flag": 0,                "pointname": "DS1OAU_D_01_DewSp",                "pointvalue": "26",                "tag": ["Setpoint", "OAU", "Humidity"],                "time": "2017-11-06 23:25"}], "total": 3}),    ({"projectId": 72,      "text": "ahu \\d vfsa",      "isAdvance": False,      "order": "asc",      "isRemark": False,      "flag": 0,      "starred": "",      "item": "pointname",      "page_size": 200,      "current_page": 1},     {"list": [{"alias": "D11AHU_D_11_VFSA",                "flag": 0,                "pointname": "D11AHU_D_11_VFSA",                "pointvalue": "1",                "tag": ["AHU", "VSD", "Automatic", "Mode"],                "time": "2017-11-06 23:25"},               {"alias": "D11AHU_D_21_VFSA",                "flag": 0,                "pointname": "D11AHU_D_21_VFSA",                "pointvalue": "1",                "tag": ["AHU", "VSD", "Automatic", "Mode"],                "time": "2017-11-06 23:25"},               {"alias": "D12AHU_D_02_VFSA",                "flag": 0,                "pointname": "D12AHU_D_02_VFSA",                "pointvalue": "0",                "tag": ["AHU", "VSD", "Automatic", "Mode"],                "time": "2017-11-06 23:25"},               {"alias": "D12AHU_D_03_VFSA",                "flag": 0,                "pointname": "D12AHU_D_03_VFSA",                "pointvalue": "1",                "tag": ["AHU", "VSD", "Automatic", "Mode"],                "time": "2017-11-06 23:25"},               {"alias": "D12AHU_D_06_VFSA",                "flag": 0,                "pointname": "D12AHU_D_06_VFSA",                "pointvalue": "1",                "tag": ["AHU", "VSD", "Automatic", "Mode"],                "time": "2017-11-06 23:25"},               {"alias": "D12AHU_D_10_VFSA",                "flag": 0,                "pointname": "D12AHU_D_10_VFSA",                "pointvalue": "1",                "tag": ["AHU", "VSD", "Automatic", "Mode"],                "time": "2017-11-06 23:25"},               {"alias": "D12AHU_D_12_VFSA",                "flag": 0,                "pointname": "D12AHU_D_12_VFSA",                "pointvalue": "1",                "tag": ["AHU", "VSD", "Automatic", "Mode"],                "time": "2017-11-06 23:25"},               {"alias": "D12AHU_D_22_VFSA",                "flag": 0,                "pointname": "D12AHU_D_22_VFSA",                "pointvalue": "1",                "tag": ["AHU", "VSD", "Automatic", "Mode"],                "time": "2017-11-06 23:25"},               {"alias": "D31AHU_D_31_VFSA",                "flag": 0,                "pointname": "D31AHU_D_31_VFSA", "pointvalue": "1",                "tag": ["AHU", "VSD", "Automatic", "Mode"],                "time": "2017-11-06 23:25"},               {"alias": "D31AHU_D_41_VFSA",                "flag": 0,                "pointname": "D31AHU_D_41_VFSA",                "pointvalue": "1",                "tag": ["AHU", "VSD", "Automatic", "Mode"],                "time": "2017-11-06 23:25"},               {"alias": "D31AHU_D_51_VFSA",                "flag": 0,                "pointname": "D31AHU_D_51_VFSA",                "pointvalue": "1",                "tag": ["AHU", "VSD", "Automatic", "Mode"],                "time": "2017-11-06 23:25"},               {"alias": "D31AHU_D_R1_VFSA",                "flag": 0,                "pointname": "D31AHU_D_R1_VFSA",                "pointvalue": "1",                "tag": ["AHU", "VSD", "Automatic", "Mode"],                "time": "2017-11-06 23:25"},               {"alias": "D32AHU_D_32_VFSA",                "flag": 0,                "pointname": "D32AHU_D_32_VFSA",                "pointvalue": "1",                "tag": ["AHU", "VSD", "Automatic", "Mode"],                "time": "2017-11-06 23:25"},               {"alias": "D32AHU_D_42_VFSA",                "flag": 0, "pointname": "D32AHU_D_42_VFSA",                "pointvalue": "1",                "tag": ["AHU", "VSD", "Automatic", "Mode"],                "time": "2017-11-06 23:25"},               {"alias": "D32AHU_D_52_VFSA",                "flag": 0,                "pointname": "D32AHU_D_52_VFSA",                "pointvalue": "1",                "tag": ["AHU", "VSD", "Automatic", "Mode"],                "time": "2017-11-06 23:25"},               {"alias": "DP11AHU_D_01_VFSA",                "flag": 0,                "pointname": "DP11AHU_D_01_VFSA",                "pointvalue": "1",                "tag": ["AHU", "VSD", "Automatic", "Mode"],                "time": "2017-11-06 23:25"},               {"alias": "DP11AHU_D_04_VFSA",                "flag": 0,                "pointname": "DP11AHU_D_04_VFSA",                "pointvalue": "1",                "tag": ["AHU", "VSD", "Automatic", "Mode"],                "time": "2017-11-06 23:25"},               {"alias": "DP11AHU_D_05_VFSA",                "flag": 0,                "pointname": "DP11AHU_D_05_VFSA",                "pointvalue": "1",                "tag": ["AHU", "VSD", "Automatic", "Mode"],                "time": "2017-11-06 23:25"},               {"alias": "DP11AHU_D_07_VFSA",                "flag": 0,                "pointname": "DP11AHU_D_07_VFSA",                "pointvalue": "1",                "tag": ["AHU", "VSD", "Automatic", "Mode"],                "time": "2017-11-06 23:25"},               {"alias": "DP11AHU_D_08_VFSA",                "flag": 0,                "pointname": "DP11AHU_D_08_VFSA",                "pointvalue": "1",                "tag": ["AHU", "VSD", "Automatic", "Mode"],                "time": "2017-11-06 23:25"},               {"alias": "DP11AHU_D_C1_VFSA",                "flag": 0,                "pointname": "DP11AHU_D_C1_VFSA",                "pointvalue": "1",                "tag": ["AHU", "VSD", "Automatic", "Mode"],                "time": "2017-11-06 23:25"}], "total": 21}),    # ({"projectId":72,"text":"ahu \\D vfsa","isAdvance":False,"order":"asc","isRemark":False,"flag":0,"starred":"","item":"pointname","page_size":200,"current_page":1},),    ({"projectId": 72,      "text": "ahu_A_ vfsa",      "isAdvance": False,      "order": "asc",      "isRemark": False,      "flag": 0,      "starred": "",      "item": "pointname",      "page_size": 200,      "current_page": 1},     {"list": [         {"alias": "A11AHU_A_11_VFSA",          "flag": 0,          "pointname": "A11AHU_A_11_VFSA",          "pointvalue": "1",          "tag": ["AHU"],          "time": "2017-11-06 23:27"},         {"alias": "A11AHU_A_21_VFSA",          "flag": 0,          "pointname": "A11AHU_A_21_VFSA",          "pointvalue": "0",          "tag": ["AHU", "VSD", "Automatic", "Mode"],          "time": "2017-11-06 23:27"},         {"alias": "A12AHU_A_12_VFSA",          "flag": 0,          "pointname": "A12AHU_A_12_VFSA",          "pointvalue": "1",          "tag": ["AHU", "VSD", "Automatic", "Mode"],          "time": "2017-11-06 23:36"},         {"alias": "A12AHU_A_22_VFSA",          "flag": 0,          "pointname": "A12AHU_A_22_VFSA",          "pointvalue": "1",          "tag": ["AHU", "VSD", "Automatic", "Mode"],          "time": "2017-11-06 23:36"},         {"alias": "A13AHU_A_13_VFSA",          "flag": 0,          "pointname": "A13AHU_A_13_VFSA",          "pointvalue": "1",          "tag": ["AHU", "VSD", "Automatic", "Mode"],          "time": "2017-11-06 23:27"},         {"alias": "A13AHU_A_23_VFSA",          "flag": 0,          "pointname": "A13AHU_A_23_VFSA",          "pointvalue": "1",          "tag": ["AHU", "VSD", "Automatic", "Mode"],          "time": "2017-11-06 23:27"},         {"alias": "A14AHU_A_14_VFSA",          "flag": 0,          "pointname": "A14AHU_A_14_VFSA",          "pointvalue": "1",          "tag": ["AHU", "VSD", "Automatic", "Mode"],          "time": "2017-11-06 23:36"},         {"alias": "A14AHU_A_24_VFSA",          "flag": 0,          "pointname": "A14AHU_A_24_VFSA",          "pointvalue": "1",          "tag": ["AHU", "VSD", "Automatic", "Mode"],          "time": "2017-11-06 23:36"},         {"alias": "A31AHU_A_31_VFSA",          "flag": 0,          "pointname": "A31AHU_A_31_VFSA",          "pointvalue": "1",          "tag": ["AHU", "VSD", "Automatic", "Mode"],          "time": "2017-11-06 23:27"},         {"alias": "A31AHU_A_41_VFSA",          "flag": 0,          "pointname": "A31AHU_A_41_VFSA",          "pointvalue": "1",          "tag": ["AHU", "VSD", "Automatic", "Mode"],          "time": "2017-11-06 23:27"},         {"alias": "A31AHU_A_51_VFSA",          "flag": 0,          "pointname": "A31AHU_A_51_VFSA",          "pointvalue": "1",          "tag": ["AHU", "VSD", "Automatic", "Mode"],          "time": "2017-11-06 23:27"},         {"alias": "A32AHU_A_32_VFSA",          "flag": 0,          "pointname": "A32AHU_A_32_VFSA",          "pointvalue": "1",          "tag": ["AHU", "VSD", "Automatic", "Mode"],          "time": "2017-11-06 23:36"},         {"alias": "A32AHU_A_42_VFSA",          "flag": 0,          "pointname": "A32AHU_A_42_VFSA",          "pointvalue": "1",          "tag": ["AHU", "VSD", "Automatic", "Mode"],          "time": "2017-11-06 23:36"},         {"alias": "A32AHU_A_52_VFSA",          "flag": 0,          "pointname": "A32AHU_A_52_VFSA",          "pointvalue": "1",          "tag": ["AHU", "VSD", "Automatic", "Mode"],          "time": "2017-11-06 23:36"},         {"alias": "A33AHU_A_33_VFSA",          "flag": 0,          "pointname": "A33AHU_A_33_VFSA",          "pointvalue": "1",          "tag": ["AHU", "VSD", "Automatic", "Mode"],          "time": "2017-11-06 23:27"},         {"alias": "A33AHU_A_43_VFSA",          "flag": 0,          "pointname": "A33AHU_A_43_VFSA",          "pointvalue": "1",          "tag": ["AHU", "VSD", "Automatic", "Mode"],          "time": "2017-11-06 23:27"},         {"alias": "A33AHU_A_53_VFSA",          "flag": 0,          "pointname": "A33AHU_A_53_VFSA",          "pointvalue": "1",          "tag": ["AHU", "VSD", "Automatic", "Mode"],          "time": "2017-11-06 23:27"},         {"alias": "A34AHU_A_34_VFSA",          "flag": 0,          "pointname": "A34AHU_A_34_VFSA",          "pointvalue": "1",          "tag": ["AHU", "VSD", "Automatic", "Mode"],          "time": "2017-11-06 23:36"},         {"alias": "A34AHU_A_44_VFSA",          "flag": 0,          "pointname": "A34AHU_A_44_VFSA",          "pointvalue": "1",          "tag": ["AHU", "VSD", "Automatic", "Mode"],          "time": "2017-11-06 23:36"},         {"alias": "A34AHU_A_54_VFSA",          "flag": 0,          "pointname": "A34AHU_A_54_VFSA",          "pointvalue": "1",          "tag": ["AHU", "VSD", "Automatic", "Mode"],          "time": "2017-11-06 23:36"}], "total": 20}),    # ({"projectId":72,"text":"ahu_A_ \\d vfsa","isAdvance":False,"order":"asc","isRemark":False,"flag":0,"starred":"","item":"pointname","page_size":200,"current_page":1}),    # ({"projectId":72,"text":"A11AHU_\\w_11_DmprEaCtrl","isAdvance":False,"order":"asc","isRemark":False,"flag":0,"starred":"","item":"pointname","page_size":200,"current_page":1}),    # ({"projectId":72,"text":"A11AHU_A_\\W_DmprEaCtrl","isAdvance":False,"order":"asc","isRemark":False,"flag":0,"starred":"","item":"pointname","page_size":200,"current_page":1}),    ({"projectId":72,      "text":"D11AHU_D_11_VFSA",      "isAdvance":True,      "order":"asc",      "isRemark":True,      "flag":0,      "starred":"",      "item":"pointname",      "page_size":200,      "current_page":1},     {"list":          [{"alias": "D11AHU_D_11_VFSA",            "flag": 0,            "pointname": "D11AHU_D_11_VFSA",            "pointvalue": "1",            "tag": ["AHU", "VSD", "Automatic", "Mode"],            "time": "Mon, 06 Nov 2017 23:25:00 GMT"}], "total": 1}),    ({"projectId":72,      "text":"pointvalue = \"42.95\"",      "isAdvance":True,      "order":"asc",      "isRemark":False,      "flag":0,      "starred":"",      "item":"pointname",      "page_size":200,      "current_page":1},     {"list":          [{"alias": "A11AHU_A_11_VFPos",            "flag": 0,            "isStarred": True,            "pointname": "A11AHU_A_11_VFPos",            "pointvalue": "42.95",            "tag": ["AHU", "Position"],            "time": "Mon, 06 Nov 2017 23:27:00 GMT"},           {"alias": "VAV_F_32_10_Damper_",            "flag": 0,            "pointname": "VAV_F_32_10_Damper %",            "pointvalue": "42.95",            "tag": ["Damper", "VAV"],            "time": "Mon, 06 Nov 2017 23:31:00 GMT"},           {"alias": "VAV_H_44_17_Damper_",            "flag": 0,            "pointname": "VAV_H_44_17_Damper %",            "pointvalue": "42.95",            "tag": ["VAV", "Damper"],            "time": "Mon, 06 Nov 2017 23:33:00 GMT"}], "total": 3})])def test_data_point_manager_search(req_data, expected):    rt = dataManagerControllers.do_data_point_manager_search(req_data)    rt=json.loads(rt)    data_list=rt.get("list")    total=rt.get("total")    assert total==expected.get("total"), 'not equal ,actual total={0},expected total={1},search text={2}'.format(total,expected.get("total"),req_data.get("text"))    expected_list=expected.get('list')    if not expected_list:        assert not data_list,'acutal is {0}'.format(data_list)    else:        for index,data in enumerate(data_list):            for key in data.keys():                assert expected_list[index].get(key)==data.get(key),'not equal,search text={0} acutal={1},expected={2}'.format(req_data.get("text"),data.get(key),expected_list[index].get(key))