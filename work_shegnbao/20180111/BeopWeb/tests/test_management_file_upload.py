import pytestfrom beopWeb.mod_admin import controllersfrom beopWeb.mod_admin import Userimport jsonimport osfrom werkzeug.datastructures import FileStoragefrom beopWeb.mod_oss.ossapi import *from beopWeb.mod_common.Utils import *name="2.png"@pytest.mark.p0@pytest.mark.usefixtures("removeFavoriteProject")def test_upload_management_file():    file_list = os.getcwd() + "/beopWeb" + User.default_user_pic_path +name    with open(file_list, 'rb') as fp:        file = FileStorage(fp)        rt = controllers.do_upload_management_file([file],name)    rt=json.loads(bytes.decode(rt.data))    assert rt.get('success') == True, 'upload_management_file fail'    oss = OssAPI(Utils.OSS_HOST, Utils.OSS_ACCESS_ID, Utils.OSS_SECRET_ACCESS_KEY)    file_path='custom/management/2.png'    res=oss.get_object('beopweb', file_path)    assert res.status==200,'upload_management_file fail'@pytest.fixture(scope='function')def removeFavoriteProject(request):    def fin():        controllers.do_delete_management_file({"fileName":name})    request.addfinalizer(fin)