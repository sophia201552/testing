
<!--原始数据清洗记录-->
<article id="clean-record-log-modal" class="modal fade">
    <div class="modal-dialog" style="margin-top: 60px; width: 1000px;">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span
                            aria-hidden="true">&times;</span></button>
                <h4 class="modal-title" i18n="dataManage.REAL_OPERATION_RECORD"></h4>
            </div>
            <div class="modal-body scrollbar" id="cleanRecordLogBody">
                <div id="cleanLogList" class="gray-scrollbar" style="height: 75vh; overflow: auto;">
                    <table class="table table-striped">
                        <thead>
                            <tr>
                                <td class="operator" width="200px;" i18n="dataManage.REAL_OPERATOR"></td>
                                <td class="operatingTime" width="250px;" i18n="dataManage.REAL_OPERATING_TIME"></td>
                                <td class="file" width="350px;" i18n="dataManage.REAL_FILE"></td>
                            </tr>
                        </thead>
                        <tbody id="cleanLogListTBody"></tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
</article>

<article id="sure-export-clean-modal" class="modal fade">
    <div class="modal-dialog" style="margin-top: 100px;">
        <div class="modal-content">
            <div class="modal-header" style="min-height: 42px;">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span
                            aria-hidden="true">&times;</span></button>
            </div>
            <div class="modal-body" id="sureCleanBody"></div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                <button id="sureExportClean" type="button" class="btn btn-primary">Sure</button>
            </div>
        </div>
    </div>
</article>

<!--确认窗口开始-->
<article id="filterDefineWin" class="modal fade">
    <div class="modal-dialog mt150">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span
                        aria-hidden="true">&times;</span></button>
                <h4 class="modal-title">
                    <span i18n="dataManage.ENTER_SEARCH_CODE"></span>
                    <span>：</span>
                </h4>
            </div>
            <div class="modal-body">
                <textarea id="filterContent" class="form-control"
                          i18n="placeholder=dataManage.ENTER_SEARCH_CODE_BELOW"></textarea>

                <p class="mt10">
                    <span>
                        <span i18n="dataManage.SEARCH_BY_POINT_NAME"></span>
                        <span>：</span>
                    </span>
                    <span>pointname like '%Fre'</span>
                </p>

                <p>
                    <span>
                       <span i18n="dataManage.SEARCH_BY_POINT_VALUE"></span>
                       <span>：</span>
                    </span>
                    <span>pointvalue <50 and pointvalue> 30</span>
                </p>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default" data-dismiss="modal" i18n="common.CANCEL"></button>
                <button type="button" class="btn btn-primary" id="filterDefineConfirm" i18n="common.CONFIRM"></button>
            </div>
        </div>
    </div>
</article>
<!--确认窗口结束-->
<div id="realTimeDataBox">
    <div id="dataManagePage">
        <div id="divPointsList" class="pointList">
            <div class="panel-heading" id="realTimeBtnBox">
                <div class="btn-group fr mr10 mt5 right-tools" role="group">
                    <button type="button" id="deleteExpiredData" class="btn btn-default btn-sm"
                            i18n="title=dataManage.DELETE_EXPIRED_DATA" permission="DataManagementAdmin"
                            permission-style="inline-block">
                        <span class="glyphicon glyphicon-trash"></span>
                    </button>
                    <button type="button" id="joinCurve" class="btn btn-default btn-sm"
                            i18n="title=dataManage.JOIN_CURVE" i18n="placeholder=dataManage.ENTER_POINT_VALUE"
                            permission="DataReadUser;DataManagementEngineer;DataManagementAdmin"
                            permission-style="inline-block">
                        <span class="iconfont icon-nav-106"></span>
                    </button>
                    <button type="button" id="isMonitoring" class="btn btn-default btn-sm"
                            i18n="title=dataManage.COLLECT" i18n="placeholder=dataManage.ENTER_POINT_VALUE"
                            permission="DataReadUser;DataManagementEngineer;DataManagementAdmin"
                            permission-style="inline-block">
                        <span class="glyphicon glyphicon-star-empty" i18n="title=dataManage.COLLECT"></span>
                    </button>
                    <button type="button" id="pointRefresh" class="btn btn-default btn-sm"
                            i18n="title=dataManage.REFRESH" i18n="placeholder=dataManage.ENTER_POINT_VALUE"
                            permission="DataReadUser;DataManagementEngineer;DataManagementAdmin"
                            permission-style="inline-block">
                        <span class="glyphicon glyphicon-refresh"></span>
                    </button>
                </div>
                <div class="pr fl mr5 f14 mt5">
                    <select id="filterType" class="form-control fl w150 mr10">
                        <option value="0" i18n="dataManage.SEARCH_BY_POINT_NAME"></option>
                        <option value="1" i18n="dataManage.SEARCH_BY_POINT_VALUE"></option>
                        <option value="2" i18n="dataManage.SEARCH_BY_POINT_RANGE"></option>
                        <option value="3" i18n="dataManage.SEARCH_BY_UPDATED_TIME"></option>
                        <option value="4" i18n="dataManage.SEARCH_BY_DEFINITION"></option>
                        <option value="5" i18n="dataManage.SEARCH_BY_CUSTOM"></option>
                    </select>

                    <div id="filterBox" class="fl"></div>
                    <div id="filterDataBox" class="f1" style="overflow: hidden;">
                        <button class="fl btn btn-default mr10" id="cleanRecordLog"
                        i18n="dataManage.REAL_CLEAN_RECORD"></button>
                        <a class="fl mr10">
                            <input type="file" accept=".xlsx,.csv" id="cleanDataFile" style="display: none;">
                            <div id="uploadClean" class="btn btn-default" i18n="dataManage.REAL_UPLOAD_AND_CLEAN"></div>
                        </a>
                        <a class="fl btn btn-default mr10" target="_blank" id="downloadCleanFile" i18n="dataManage.REAL_DOWNLOAD_CLEAN_FILE"></a>
                    </div>
                </div>
            </div>
            <table class="table table-condensed" id="tableWatch" overflow="auto">
            </table>
        </div>
    </div>
</div>
<!--@formatter:off-->

<script type="text/html" id="sure_clean_data_modal">
    <div class="sure-info-container">
        <div class="curPointBox point-info-box">
            <div class="nameLeft" i18n="dataManage.REAL_CURRENT_POINT"></div>
            <div class="valueRight"><!=list.currentPointCount!></div>
        </div>
        <div class="newPointBox point-info-box">
            <div class="nameLeft" i18n="dataManage.REAL_NEW_POINT"></div>
            <div class="valueRight"><!=list.newPointCount!></div>
        </div>
        <div class="addPointBox point-info-box">
            <div class="nameLeft" i18n="dataManage.REAL_ADD_POINT"></div>
            <div class="valueRight"><!=list.addedPointCount!></div>
        </div>
        <div class="deletePointBox point-info-box">
            <div class="nameLeft" i18n="dataManage.REAL_DELETE_POINT"></div>
            <div class="valueRight"><!=list.removedPointCount!></div>
        </div>
        <div class="clean-tip-info" i18n="dataManage.REAL_SURE_TO_UPDATE_POINT"></div>
    </div>
</script>

<script type="text/html" id="clean_record_log_container">
    <!for (var i = 0; i < logList.length; i++) {!>
        <! var log = logList[i]; !>
        <tr>
            <td width="200px;" title="<!=log.operator.userName!>"><!=log.operator.userFullName!></td>
            <td width="250px;" title="<!=log.timeStamp!>"><!=log.timeStamp!></td>
            <td width="350px;">
                <a href="<!=log.fileUrl!>" target="_blank" title="<!=log.fileName!>" class="downLoadLogURL"
                   download="<!=log.fileName!>"><!=log.fileName!></a>
            </td>
        </tr>
    <! } !>
</script>

<script type="text/html" id="tpl_data_manage_filter_search">
    <!if (type == '0'){!>
        <input type="text" class="form-control fl mr10" id="searchPoint" i18n="placeholder=dataManage.ENTER_POINT_NAME" permission="DataReadUser;DataManagementEngineer;DataManagementAdmin" permission-style="inline-block" />
        <button type="button" class="btn btn-success mr10" id="filterConfirm" i18n="common.CONFIRM"></button>
        <span class="ml10 mr10 mt5 fl" i18n="common.SORT"></span>
        <select id="filterSort" class="form-control fl w150 mr10" permission="DataReadUser;DataManagementEngineer;DataManagementAdmin" permission-style="inline-block">
            <option value="0" i18n="dataManage.SORT_BY_A_Z"></option>
            <option value="1" i18n="dataManage.SORT_BY_Z_A"></option>
            <option value="2" i18n="dataManage.SORT_VALUE_ASCENDING"></option>
            <option value="3" i18n="dataManage.SORT_VALUE_DESCENDING"></option>
            <option value="4" i18n="dataManage.SORT_TIME_NOW_PAST"></option>
            <option value="5" i18n="dataManage.SORT_TIME_PAST_NOW"></option>
        </select>
    <!}else if (type == '1'){!>
        <input type="text" class="form-control fl mr10" id="searchPoint" i18n="placeholder=dataManage.ENTER_POINT_VALUE" permission="DataReadUser;DataManagementEngineer;DataManagementAdmin" permission-style="inline-block" />
        <button type="button" class="btn btn-success mr10" id="filterConfirm" i18n="common.CONFIRM"></button>
        <span class="ml10 mr10 mt5 fl" i18n="common.SORT"></span>
        <select id="filterSort" class="form-control fl w150 mr10" permission="DataReadUser;DataManagementEngineer;DataManagementAdmin" permission-style="inline-block">
            <option value="0" i18n="dataManage.SORT_BY_A_Z"></option>
            <option value="1" i18n="dataManage.SORT_BY_Z_A"></option>
            <option value="2" i18n="dataManage.SORT_VALUE_ASCENDING"></option>
            <option value="3" i18n="dataManage.SORT_VALUE_DESCENDING"></option>
            <option value="4" i18n="dataManage.SORT_TIME_NOW_PAST"></option>
            <option value="5" i18n="dataManage.SORT_TIME_PAST_NOW"></option>
        </select>
    <!}else if (type == '2'){!>
        <input id="filterMin" type="number" class="form-control w100 mr5 fl" i18n="placeholder=common.MIN"/>
        <span class="mr5 mt5 fl" i18n="common.TO"></span>
        <input id="filterMax" type="number" class="form-control w100 mr10 fl" i18n="placeholder=common.MAX"/>
        <button type="button" class="btn btn-success mr10" id="filterConfirm" i18n="common.CONFIRM"></button>
        <span class="ml10 mr10 mt5 fl" i18n="common.SORT"></span>
        <select id="filterSort" class="form-control fl w150 mr10" permission="DataReadUser;DataManagementEngineer;DataManagementAdmin" permission-style="inline-block">
            <option value="0" i18n="dataManage.SORT_BY_A_Z"></option>
            <option value="1" i18n="dataManage.SORT_BY_Z_A"></option>
            <option value="2" i18n="dataManage.SORT_VALUE_ASCENDING"></option>
            <option value="3" i18n="dataManage.SORT_VALUE_DESCENDING"></option>
            <option value="4" i18n="dataManage.SORT_TIME_NOW_PAST"></option>
            <option value="5" i18n="dataManage.SORT_TIME_PAST_NOW"></option>
        </select>
    <!}else if (type == '3'){!>
        <input class="form-control mr5 fl w170" size="16" type="text" value="" id="pointDateStart"
               style="border-radius:5px 0 0 5px;" i18n="placeholder=dataManage.SELECT_START_TIME"
               data-format="yyyy-mm-dd hh:ii" datetimepicker/>
        <span class="mr5 mt5 fl" i18n="common.TO"></span>
        <input class="form-control mr10 fl w170" size="16" type="text" value="" id="pointDateEnd"
               style="border-radius:0 5px 5px 0;" i18n="placeholder=dataManage.SELECT_CLOSING_TIME"
               data-format="yyyy-mm-dd hh:ii" datetimepicker/>
        <button type="button" class="btn btn-success mr10" id="filterConfirm" i18n="common.CONFIRM"></button>
        <span class="ml10 mr10 mt5 fl" i18n="common.SORT"></span>
        <select id="filterSort" class="form-control fl w150 mr10" permission="DataReadUser;DataManagementEngineer;DataManagementAdmin" permission-style="inline-block">
            <option value="0" i18n="dataManage.SORT_BY_A_Z"></option>
            <option value="1" i18n="dataManage.SORT_BY_Z_A"></option>
            <option value="2" i18n="dataManage.SORT_VALUE_ASCENDING"></option>
            <option value="3" i18n="dataManage.SORT_VALUE_DESCENDING"></option>
            <option value="4" i18n="dataManage.SORT_TIME_NOW_PAST"></option>
            <option value="5" i18n="dataManage.SORT_TIME_PAST_NOW"></option>
        </select>
    <!}else if (type == '4'){!>
        <input type="text" class="form-control fl mr10" id="searchPoint" i18n="placeholder=dataManage.ENTER_DEFINITION" permission="DataReadUser;DataManagementEngineer;DataManagementAdmin" permission-style="inline-block" />
        <button type="button" class="btn btn-success mr10" id="filterConfirm" i18n="common.CONFIRM"></button>
        <span class="ml10 mr10 mt5 fl" i18n="common.SORT"></span>
        <select id="filterSort" class="form-control fl w150 mr10" permission="DataReadUser;DataManagementEngineer;DataManagementAdmin" permission-style="inline-block">
            <option value="0" i18n="dataManage.SORT_BY_A_Z"></option>
            <option value="1" i18n="dataManage.SORT_BY_Z_A"></option>
            <option value="2" i18n="dataManage.SORT_VALUE_ASCENDING"></option>
            <option value="3" i18n="dataManage.SORT_VALUE_DESCENDING"></option>
            <option value="4" i18n="dataManage.SORT_TIME_NOW_PAST"></option>
            <option value="5" i18n="dataManage.SORT_TIME_PAST_NOW"></option>
        </select>
    <!}else if (type == '5'){!>
        <span id="defineFilterEdit" class="glyphicon glyphicon-edit cp mr10 mt8 fl"></span>
        <span class="ml10 mr10 mt5 fl" i18n="common.SORT"></span>
        <select id="filterSort" class="form-control fl w150 mr10" permission="DataReadUser;DataManagementEngineer;DataManagementAdmin" permission-style="inline-block">
            <option value="0" i18n="dataManage.SORT_BY_A_Z"></option>
            <option value="1" i18n="dataManage.SORT_BY_Z_A"></option>
            <option value="2" i18n="dataManage.SORT_VALUE_ASCENDING"></option>
            <option value="3" i18n="dataManage.SORT_VALUE_DESCENDING"></option>
            <option value="4" i18n="dataManage.SORT_TIME_NOW_PAST"></option>
            <option value="5" i18n="dataManage.SORT_TIME_PAST_NOW"></option>
        </select>
    <!}!>
</script>
<script  type="text/html" id="tpl_empty_star">
<span class="glyphicon cp data-manager-star glyphicon-star-empty"></span>
</script>
<!--@formatter:on-->